"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/validate/vc-validation/page",{

/***/ "(app-pages-browser)/./src/features/validation/actions/submit-vc-validation-form.ts":
/*!**********************************************************************!*\
  !*** ./src/features/validation/actions/submit-vc-validation-form.ts ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   submitVCValidationForm: () => (/* binding */ submitVCValidationForm)\n/* harmony export */ });\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! private-next-rsc-action-client-wrapper */ \"(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js\");\n/* harmony import */ var private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_action_entry_do_not_use__ {\"40d64fb9bfd76b02653ab9ccb41969471bb1655fef\":\"submitVCValidationForm\"} */ \nvar submitVCValidationForm = /*#__PURE__*/ (0,private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.createServerReference)(\"40d64fb9bfd76b02653ab9ccb41969471bb1655fef\", private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.callServer, void 0, private_next_rsc_action_client_wrapper__WEBPACK_IMPORTED_MODULE_0__.findSourceMapURL, \"submitVCValidationForm\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9mZWF0dXJlcy92YWxpZGF0aW9uL2FjdGlvbnMvc3VibWl0LXZjLXZhbGlkYXRpb24tZm9ybS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0lBVXNCQSx1Q0FBQUEsNkZBQUFBLCtDQUFBQSw4RUFBQUEsVUFBQUEsb0ZBQUFBIiwic291cmNlcyI6WyIvVXNlcnMvYXJ0ZmN0L0RvY3VtZW50cy9Tb2Z0d2FyZSBCdXNpbmVzcy9zdGFydHVwLXZhbGlkYXRvci9zcmMvZmVhdHVyZXMvdmFsaWRhdGlvbi9hY3Rpb25zL3N1Ym1pdC12Yy12YWxpZGF0aW9uLWZvcm0udHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCJcblxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiXG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IHsgc2F2ZVZhbGlkYXRpb25Gb3JtIH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3ZhbGlkYXRpb24tc2VydmljZVwiXG5pbXBvcnQgeyBjcmVhdGVWQ1ZhbGlkYXRpb24sIHVwZGF0ZVZDVmFsaWRhdGlvblN0YXR1cywgYWRkQWdlbnRBbmFseXNpcywgc2V0VkNSZXBvcnQsIGdldFZDVmFsaWRhdGlvbldpdGhBbmFseXNlcyB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS92Yy12YWxpZGF0aW9uLXNlcnZpY2VcIlxuaW1wb3J0IHsgcnVuVkNWYWxpZGF0aW9uIH0gZnJvbSBcIkAvbGliL2FpL3ZjLXZhbGlkYXRpb24vdmMtYW5hbHl6ZXJcIlxuaW1wb3J0IHsgVkNBZ2VudFR5cGUgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2UvdHlwZXNcIlxuXG4vLyBTdWJtaXQgVkMgdmFsaWRhdGlvbiBmb3JtIGRhdGEgYW5kIHN0YXJ0IHRoZSBtdWx0aS1hZ2VudCB2YWxpZGF0aW9uIHByb2Nlc3NcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdWJtaXRWQ1ZhbGlkYXRpb25Gb3JtKGZvcm1EYXRhOiB7XG4gIGJ1c2luZXNzSWRlYTogc3RyaW5nO1xuICB3ZWJzaXRlVXJsPzogc3RyaW5nO1xuICBhZGRpdGlvbmFsQ29udGV4dD86IFJlY29yZDxzdHJpbmcsIGFueT47XG59KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJQcm9jZXNzaW5nIFZDIHZhbGlkYXRpb24gc3VibWlzc2lvblwiLCBmb3JtRGF0YSk7XG4gICAgXG4gICAgLy8gU2F2ZSB0aGUgdmFsaWRhdGlvbiBmb3JtIGZpcnN0XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2F2ZVZhbGlkYXRpb25Gb3JtKHtcbiAgICAgIGJ1c2luZXNzSWRlYTogZm9ybURhdGEuYnVzaW5lc3NJZGVhLFxuICAgICAgd2Vic2l0ZVVybDogZm9ybURhdGEud2Vic2l0ZVVybCxcbiAgICAgIC4uLmZvcm1EYXRhLmFkZGl0aW9uYWxDb250ZXh0XG4gICAgfSwgXCJ2Y192YWxpZGF0aW9uXCIpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3VjY2VzcyB8fCAhcmVzdWx0LmZvcm1JZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBzYXZlIHZhbGlkYXRpb24gZm9ybVwiXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1JZCA9IHJlc3VsdC5mb3JtSWQ7XG4gICAgY29uc29sZS5sb2coXCJWYWxpZGF0aW9uIGZvcm0gc2F2ZWQgd2l0aCBJRDpcIiwgZm9ybUlkKTtcblxuICAgIC8vIENyZWF0ZSBhIFZDIHZhbGlkYXRpb24gcmVjb3JkXG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IGNyZWF0ZVZDVmFsaWRhdGlvbihmb3JtSWQsIGZvcm1EYXRhLmJ1c2luZXNzSWRlYSk7XG4gICAgXG4gICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MgfHwgIXZhbGlkYXRpb25SZXN1bHQudmFsaWRhdGlvbklkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBjcmVhdGUgVkMgdmFsaWRhdGlvbiByZWNvcmRcIlxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgdmFsaWRhdGlvbklkID0gdmFsaWRhdGlvblJlc3VsdC52YWxpZGF0aW9uSWQ7XG4gICAgY29uc29sZS5sb2coXCJWQyB2YWxpZGF0aW9uIGNyZWF0ZWQgd2l0aCBJRDpcIiwgdmFsaWRhdGlvbklkKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIFwiaW5fcHJvZ3Jlc3NcIlxuICAgIGF3YWl0IHVwZGF0ZVZDVmFsaWRhdGlvblN0YXR1cyh2YWxpZGF0aW9uSWQsIFwiaW5fcHJvZ3Jlc3NcIik7XG4gICAgXG4gICAgLy8gU2F2ZSBhbiBpbml0aWFsIHNrZWxldG9uIHJlcG9ydCBzbyB0aGUgVUkgaGFzIHNvbWV0aGluZyB0byBkaXNwbGF5IGltbWVkaWF0ZWx5XG4gICAgY29uc3QgaW5pdGlhbFJlcG9ydCA9IHtcbiAgICAgIG92ZXJhbGxfc2NvcmU6IDAsXG4gICAgICBidXNpbmVzc190eXBlOiBcIkFuYWx5emluZy4uLlwiLFxuICAgICAgd2VpZ2h0ZWRfc2NvcmVzOiB7fSxcbiAgICAgIGNhdGVnb3J5X3Njb3Jlczoge30sXG4gICAgICByZWNvbW1lbmRhdGlvbjogXCJBbmFseXNpcyBpbiBwcm9ncmVzcy4gUGxlYXNlIHdhaXQgd2hpbGUgb3VyIEFJIGFnZW50cyBldmFsdWF0ZSB5b3VyIGJ1c2luZXNzIGlkZWEuXCIsXG4gICAgICBzdHJlbmd0aHM6IFtdLFxuICAgICAgd2Vha25lc3NlczogW10sXG4gICAgICBzdWdnZXN0ZWRfYWN0aW9uczogW10sXG4gICAgICBpZGVhX2ltcHJvdmVtZW50czoge1xuICAgICAgICBvcmlnaW5hbF9pZGVhOiBmb3JtRGF0YS5idXNpbmVzc0lkZWEsXG4gICAgICAgIGltcHJvdmVkX2lkZWE6IFwiXCIsXG4gICAgICAgIHByb2JsZW1fc3RhdGVtZW50OiBcIlwiLFxuICAgICAgICBtYXJrZXRfcG9zaXRpb25pbmc6IFwiXCIsXG4gICAgICAgIHV2cDogXCJcIixcbiAgICAgICAgYnVzaW5lc3NfbW9kZWw6IFwiXCJcbiAgICAgIH0sXG4gICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIC8vIFNhdmUgdGhpcyBpbml0aWFsIHNrZWxldG9uIHJlcG9ydFxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzZXRWQ1JlcG9ydCh2YWxpZGF0aW9uSWQsIGluaXRpYWxSZXBvcnQsIDApO1xuICAgICAgY29uc29sZS5sb2coXCJTYXZlZCBpbml0aWFsIHNrZWxldG9uIHJlcG9ydCBmb3IgaW1tZWRpYXRlIFVJIGZlZWRiYWNrXCIpO1xuICAgIH0gY2F0Y2ggKHJlcG9ydEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2F2aW5nIGluaXRpYWwgc2tlbGV0b24gcmVwb3J0OlwiLCByZXBvcnRFcnJvcik7XG4gICAgICAvLyBDb250aW51ZSBhbnl3YXkgYXMgdGhpcyBpcyBub3QgY3JpdGljYWxcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgbWluaW1hbCBpbml0aWFsIHByb2JsZW0gYWdlbnQgYW5hbHlzaXMgdG8gc2hvdyBwcm9ncmVzc1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpbml0aWFsUHJvYmxlbUFuYWx5c2lzID0ge1xuICAgICAgICBpbXByb3ZlZF9wcm9ibGVtX3N0YXRlbWVudDogZm9ybURhdGEuYnVzaW5lc3NJZGVhLFxuICAgICAgICBzZXZlcml0eV9pbmRleDogNSxcbiAgICAgICAgcHJvYmxlbV9mcmFtaW5nOiAnZ2xvYmFsJyxcbiAgICAgICAgcm9vdF9jYXVzZXM6IFtcIkluaXRpYWwgYW5hbHlzaXMgaW4gcHJvZ3Jlc3MuLi5cIl0sXG4gICAgICAgIHNjb3JlOiA1LFxuICAgICAgICByZWFzb25pbmc6IFwiQW5hbHlzaXMgaGFzIHN0YXJ0ZWQgYW5kIGlzIGJlaW5nIHByb2Nlc3NlZCBpbiB0aGUgYmFja2dyb3VuZC5cIlxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSB0aGUgaW5pdGlhbCBwcm9ibGVtIGFuYWx5c2lzXG4gICAgICBhd2FpdCBhZGRBZ2VudEFuYWx5c2lzKFxuICAgICAgICB2YWxpZGF0aW9uSWQsXG4gICAgICAgICdwcm9ibGVtJyxcbiAgICAgICAgeyBidXNpbmVzc0lkZWE6IGZvcm1EYXRhLmJ1c2luZXNzSWRlYSwgLi4uZm9ybURhdGEuYWRkaXRpb25hbENvbnRleHQgfSxcbiAgICAgICAgaW5pdGlhbFByb2JsZW1BbmFseXNpcyxcbiAgICAgICAgNSxcbiAgICAgICAgaW5pdGlhbFByb2JsZW1BbmFseXNpcy5yZWFzb25pbmcsXG4gICAgICAgIHt9XG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIlNhdmVkIGluaXRpYWwgcHJvYmxlbSBhZ2VudCBhbmFseXNpcyBwbGFjZWhvbGRlclwiKTtcbiAgICB9IGNhdGNoIChzYXZlRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgaW5pdGlhbCBwcm9ibGVtIGFuYWx5c2lzOlwiLCBzYXZlRXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdGFydCB0aGUgVkMgdmFsaWRhdGlvbiBwcm9jZXNzIGFzeW5jaHJvbm91c2x5XG4gICAgLy8gSW4gcHJvZHVjdGlvbiwgdGhpcyBuZWVkcyB0byBiZSBvcHRpbWl6ZWQgdG8gYXZvaWQgc2VydmVybGVzcyBmdW5jdGlvbiB0aW1lb3V0c1xuICAgIC8vIFdlIGNhbiBvbmx5IGtpY2sgb2ZmIHRoZSBwcm9jZXNzIGFuZCBsZXQgaXQgcnVuIGluIHRoZSBiYWNrZ3JvdW5kXG5cbiAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIFwicHJvY2Vzc2luZ1wiIC0gdGhpcyBpcyB0aGUgc2lnbmFsIGZvciB0aGUgVUkgdGhhdCBiYWNrZ3JvdW5kIHByb2Nlc3NpbmcgaGFzIHN0YXJ0ZWRcbiAgICBhd2FpdCB1cGRhdGVWQ1ZhbGlkYXRpb25TdGF0dXModmFsaWRhdGlvbklkLCBcInByb2Nlc3NpbmdcIik7XG4gICAgXG4gICAgLy8gU3RhcnQgdGhlIGZpcnN0IGFnZW50IGFuYWx5c2lzIGluIHRoZSBiYWNrZ3JvdW5kIHdpdGhvdXQgYXdhaXRpbmcgaXRcbiAgICAvLyBUaGlzIHdpbGwgcnVuIHVudGlsIHRoZSBzZXJ2ZXJsZXNzIGZ1bmN0aW9uIHRpbWVzIG91dCwgYnV0IGl0IHdpbGwgc2F2ZSBwYXJ0aWFsIHJlc3VsdHNcbiAgICB0cnkge1xuICAgICAgLy8gU3RhcnQgdGhlIHByb2Nlc3Mgd2l0aG91dCBhd2FpdGluZyB0aGUgZnVsbCBjb21wbGV0aW9uXG4gICAgICBzdGFydFByb2Nlc3NWQ1ZhbGlkYXRpb25Bc3luYyh2YWxpZGF0aW9uSWQsIGZvcm1EYXRhLmJ1c2luZXNzSWRlYSwgZm9ybURhdGEuYWRkaXRpb25hbENvbnRleHQgfHwge30pO1xuICAgICAgY29uc29sZS5sb2coXCJTdGFydGVkIGFzeW5jIFZDIHZhbGlkYXRpb24gcHJvY2VzcyBpbiB0aGUgYmFja2dyb3VuZFwiKTtcbiAgICB9IGNhdGNoIChwcm9jZXNzRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzdGFydGluZyB2YWxpZGF0aW9uIHByb2Nlc3M6XCIsIHByb2Nlc3NFcnJvcik7XG4gICAgICAvLyBEb24ndCBibG9jayB0aGUgcmVkaXJlY3QgZXZlbiBpZiB0aGVyZSdzIGFuIGVycm9yIHN0YXJ0aW5nIHRoZSBwcm9jZXNzXG4gICAgfVxuXG4gICAgLy8gUmV2YWxpZGF0ZSB0aGUgcGF0aHMgKGJvdGggcG90ZW50aWFsIFVSTHMpXG4gICAgcmV2YWxpZGF0ZVBhdGgoYC92YWxpZGF0ZS92Yy1yZXBvcnQvJHt2YWxpZGF0aW9uSWR9YCk7XG4gICAgcmV2YWxpZGF0ZVBhdGgoYC92YWxpZGF0ZS92Yy1yZXBvcnQvJHtmb3JtSWR9YCk7XG4gICAgXG4gICAgLy8gTG9nIHRoZSByZWRpcmVjdGlvbiBmb3IgZGVidWdnaW5nXG4gICAgY29uc29sZS5sb2coYFJlZGlyZWN0aW5nIHRvIFZDIHJlcG9ydCBwYWdlIC0gRm9ybSBJRDogJHtmb3JtSWR9LCBWYWxpZGF0aW9uIElEOiAke3ZhbGlkYXRpb25JZH1gKTtcblxuICAgIC8vIFJlZGlyZWN0IHRvIHRoZSByZXBvcnQgcGFnZSB1c2luZyB0aGUgdmFsaWRhdGlvbiBJRCB0byBlbnN1cmUgYWNjdXJhY3lcbiAgICAvLyBUaGUgcGFnZSB3aWxsIHNob3cgXCJwcm9jZXNzaW5nXCIgc3RhdGVcbiAgICByZWRpcmVjdChgL3ZhbGlkYXRlL3ZjLXJlcG9ydC8ke3ZhbGlkYXRpb25JZH1gKTtcbiAgICBcbiAgICAvLyBUaGlzIHJldHVybiBzdGF0ZW1lbnQgaXMgdGVjaG5pY2FsbHkgdW5yZWFjaGFibGUgZHVlIHRvIHRoZSByZWRpcmVjdFxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZm9ybUlkLFxuICAgICAgdmFsaWRhdGlvbklkXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gc3VibWl0VkNWYWxpZGF0aW9uRm9ybTpcIiwgZXJyb3IpO1xuICAgIFxuICAgIC8vIElmIGl0J3MgYSByZWRpcmVjdCBlcnJvciwgcmV0aHJvdyBpdFxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ05FWFRfUkVESVJFQ1QnKSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIlxuICAgIH07XG4gIH1cbn1cblxuLy8gTW9kaWZpZWQgZnVuY3Rpb24gdG8gc3RhcnQgdGhlIHByb2Nlc3Mgd2l0aG91dCBhd2FpdGluZyBmdWxsIGNvbXBsZXRpb25cbmZ1bmN0aW9uIHN0YXJ0UHJvY2Vzc1ZDVmFsaWRhdGlvbkFzeW5jKFxuICB2YWxpZGF0aW9uSWQ6IHN0cmluZyxcbiAgYnVzaW5lc3NJZGVhOiBzdHJpbmcsXG4gIGFkZGl0aW9uYWxDb250ZXh0OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4pIHtcbiAgLy8gRnVuY3Rpb24gdG8gcHJvY2VzcyBqdXN0IG9uZSBhZ2VudCBhdCBhIHRpbWUgYW5kIHNhdmUgaXRzIHJlc3VsdFxuICBjb25zdCBwcm9jZXNzQWdlbnRTdGVwID0gYXN5bmMgKFxuICAgIGFnZW50VHlwZTogVkNBZ2VudFR5cGUsXG4gICAgY29udGV4dERhdGE6IFJlY29yZDxzdHJpbmcsIGFueT5cbiAgKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBbQUdFTlQgU1RFUF0gUHJvY2Vzc2luZyAke2FnZW50VHlwZX0gYWdlbnRgKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IGV4aXN0aW5nIHZhbGlkYXRpb24gZGF0YVxuICAgICAgY29uc3QgeyBkYXRhOiB2YWxpZGF0aW9uRGF0YSB9ID0gYXdhaXQgZ2V0VkNWYWxpZGF0aW9uV2l0aEFuYWx5c2VzKHZhbGlkYXRpb25JZCk7XG4gICAgICBpZiAoIXZhbGlkYXRpb25EYXRhIHx8IHZhbGlkYXRpb25EYXRhLnZhbGlkYXRpb24uc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBDYW5ub3QgcHJvY2VzcyBhZ2VudCBzdGVwIC0gdmFsaWRhdGlvbiAke3ZhbGlkYXRpb25JZH0gbm90IGZvdW5kIG9yIGhhcyBmYWlsZWRgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGFnZW50IGhhcyBhbHJlYWR5IGJlZW4gcHJvY2Vzc2VkXG4gICAgICBjb25zdCBhZ2VudEV4aXN0cyA9IHZhbGlkYXRpb25EYXRhLmFnZW50X2FuYWx5c2VzLnNvbWUoYSA9PiBhLmFnZW50X3R5cGUgPT09IGFnZW50VHlwZSk7XG4gICAgICBpZiAoYWdlbnRFeGlzdHMpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtBR0VOVCBTVEVQXSAke2FnZW50VHlwZX0gYWdlbnQgYWxyZWFkeSBwcm9jZXNzZWQsIHNraXBwaW5nYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbGV0IGFuYWx5c2lzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gUHJvY2VzcyB0aGUgc3BlY2lmaWMgYWdlbnQgYmFzZWQgb24gdHlwZVxuICAgICAgICBzd2l0Y2ggKGFnZW50VHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3Byb2JsZW0nOlxuICAgICAgICAgICAgYW5hbHlzaXMgPSBhd2FpdCBydW5Qcm9ibGVtQWdlbnRBbmFseXNpcyhjb250ZXh0RGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdtYXJrZXQnOlxuICAgICAgICAgICAgYW5hbHlzaXMgPSBhd2FpdCBydW5NYXJrZXRBZ2VudEFuYWx5c2lzKGNvbnRleHREYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2NvbXBldGl0aXZlJzpcbiAgICAgICAgICAgIGFuYWx5c2lzID0gYXdhaXQgcnVuQ29tcGV0aXRpdmVBZ2VudEFuYWx5c2lzKGNvbnRleHREYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3V2cCc6XG4gICAgICAgICAgICBhbmFseXNpcyA9IGF3YWl0IHJ1blVWUEFnZW50QW5hbHlzaXMoY29udGV4dERhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYnVzaW5lc3NfbW9kZWwnOlxuICAgICAgICAgICAgYW5hbHlzaXMgPSBhd2FpdCBydW5CdXNpbmVzc01vZGVsQWdlbnRBbmFseXNpcyhjb250ZXh0RGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd2YWxpZGF0aW9uJzpcbiAgICAgICAgICAgIGFuYWx5c2lzID0gYXdhaXQgcnVuVmFsaWRhdGlvbkFnZW50QW5hbHlzaXMoY29udGV4dERhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGVnYWwnOlxuICAgICAgICAgICAgYW5hbHlzaXMgPSBhd2FpdCBydW5MZWdhbEFnZW50QW5hbHlzaXMoY29udGV4dERhdGEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbWV0cmljcyc6XG4gICAgICAgICAgICBhbmFseXNpcyA9IGF3YWl0IHJ1bk1ldHJpY3NBZ2VudEFuYWx5c2lzKGNvbnRleHREYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW0FHRU5UIFNURVBdIFVuc3VwcG9ydGVkIGFnZW50IHR5cGU6ICR7YWdlbnRUeXBlfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoYW5hbHlzaXMpIHtcbiAgICAgICAgICAvLyBFeHRyYWN0IHNjb3JlIGFuZCByZWFzb25pbmdcbiAgICAgICAgICBjb25zdCBzY29yZSA9IHR5cGVvZiBhbmFseXNpcy5zY29yZSA9PT0gJ251bWJlcicgXG4gICAgICAgICAgICA/IE1hdGgucm91bmQoYW5hbHlzaXMuc2NvcmUpIFxuICAgICAgICAgICAgOiAodHlwZW9mIGFuYWx5c2lzLnNjb3JlID09PSAnc3RyaW5nJyA/IE1hdGgucm91bmQocGFyc2VGbG9hdChhbmFseXNpcy5zY29yZSkpIDogNSk7XG4gICAgICAgICAgY29uc3QgcmVhc29uaW5nID0gYW5hbHlzaXMucmVhc29uaW5nIHx8IFwiQW5hbHlzaXMgY29tcGxldGVkLlwiO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNhdmUgdGhlIGFuYWx5c2lzXG4gICAgICAgICAgY29uc3Qgc2F2ZVJlc3VsdCA9IGF3YWl0IGFkZEFnZW50QW5hbHlzaXMoXG4gICAgICAgICAgICB2YWxpZGF0aW9uSWQsXG4gICAgICAgICAgICBhZ2VudFR5cGUsXG4gICAgICAgICAgICBjb250ZXh0RGF0YSxcbiAgICAgICAgICAgIGFuYWx5c2lzLFxuICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICByZWFzb25pbmcsXG4gICAgICAgICAgICB7fVxuICAgICAgICAgICk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNhdmVSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFtBR0VOVCBTVEVQXSBTdWNjZXNzZnVsbHkgc2F2ZWQgJHthZ2VudFR5cGV9IGFnZW50IGFuYWx5c2lzYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgY29udGV4dCBmb3IgdGhlIG5leHQgYWdlbnRcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLmNvbnRleHREYXRhLFxuICAgICAgICAgICAgICBbYCR7YWdlbnRUeXBlfV9hbmFseXNpc2BdOiBhbmFseXNpc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0FHRU5UIFNURVBdIEZhaWxlZCB0byBzYXZlICR7YWdlbnRUeXBlfSBhZ2VudCBhbmFseXNpczpgLCBzYXZlUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGFnZW50RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0FHRU5UIFNURVBdIEVycm9yIHByb2Nlc3NpbmcgJHthZ2VudFR5cGV9IGFnZW50OmAsIGFnZW50RXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGFuZCBzYXZlIGEgZmFsbGJhY2sgYW5hbHlzaXNcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBmYWxsYmFja0FuYWx5c2lzID0gY3JlYXRlRmFsbGJhY2tBbmFseXNpcyhhZ2VudFR5cGUsIGNvbnRleHREYXRhLCBhZ2VudEVycm9yKTtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tBbmFseXNpcykge1xuICAgICAgICAgICAgYXdhaXQgYWRkQWdlbnRBbmFseXNpcyhcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbklkLCBcbiAgICAgICAgICAgICAgYWdlbnRUeXBlLFxuICAgICAgICAgICAgICBjb250ZXh0RGF0YSxcbiAgICAgICAgICAgICAgZmFsbGJhY2tBbmFseXNpcyxcbiAgICAgICAgICAgICAgNSxcbiAgICAgICAgICAgICAgYEFuYWx5c2lzIGZhaWxlZDogJHthZ2VudEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBhZ2VudEVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCxcbiAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgW0FHRU5UIFNURVBdIFNhdmVkIGZhbGxiYWNrIGFuYWx5c2lzIGZvciAke2FnZW50VHlwZX0gYWdlbnRgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbQUdFTlQgU1RFUF0gRmFpbGVkIHRvIHNhdmUgZmFsbGJhY2sgZm9yICR7YWdlbnRUeXBlfSBhZ2VudDpgLCBmYWxsYmFja0Vycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXR1cm4gdGhlIGNvbnRleHQgZXZlbiBpZiB0aGVyZSB3YXMgYW4gZXJyb3JcbiAgICAgIHJldHVybiBjb250ZXh0RGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgW0FHRU5UIFNURVBdIEZhdGFsIGVycm9yIGluICR7YWdlbnRUeXBlfSBhZ2VudCBwcm9jZXNzaW5nOmAsIGVycm9yKTtcbiAgICAgIHJldHVybiBjb250ZXh0RGF0YTtcbiAgICB9XG4gIH07XG4gIFxuICAvLyBTdGFydCB0aGUgcHJvY2VzcyBpbiB0aGUgYmFja2dyb3VuZCB3aXRob3V0IGF3YWl0aW5nIGNvbXBsZXRpb25cbiAgLy8gVGhpcyBpcyBkZXNpZ25lZCB0byB3b3JrIGV2ZW4gd2l0aCBzZXJ2ZXJsZXNzIGZ1bmN0aW9uIHRpbWVvdXRzXG4gIChhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGBbMHNdIFN0YXJ0aW5nIFZDIHZhbGlkYXRpb24gZm9yIGJ1c2luZXNzIGlkZWE6ICR7YnVzaW5lc3NJZGVhLnN1YnN0cmluZygwLCAxMDApfWApO1xuICAgICAgXG4gICAgICAvLyBJbml0aWFsaXplIGNvbnRleHQgd2l0aCB1c2VyIGlucHV0XG4gICAgICBsZXQgY29udGV4dDogUmVjb3JkPHN0cmluZywgYW55PiA9IHtcbiAgICAgICAgdXNlcl9pbnB1dDogYnVzaW5lc3NJZGVhLnRyaW0oKSxcbiAgICAgICAgLi4uYWRkaXRpb25hbENvbnRleHRcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgcHJvYmxlbSBhZ2VudFxuICAgICAgY29uc29sZS5sb2coYFswc10gU3RhcnRpbmcgUHJvYmxlbSBBZ2VudCBhbmFseXNpc2ApO1xuICAgICAgY29udGV4dCA9IGF3YWl0IHByb2Nlc3NBZ2VudFN0ZXAoJ3Byb2JsZW0nLCBjb250ZXh0KSB8fCBjb250ZXh0O1xuICAgICAgXG4gICAgICAvLyBUaGUgcmVtYWluaW5nIGFnZW50cyB3aWxsIGJlIHByb2Nlc3NlZCBieSBzZXBhcmF0ZSBBUEkgY2FsbHMgaW5pdGlhdGVkIGJ5IHRoZSBmcm9udGVuZFxuICAgICAgLy8gVGhpcyBlbnN1cmVzIHdlIGRvbid0IGhpdCBzZXJ2ZXJsZXNzIGZ1bmN0aW9uIHRpbWVvdXRzXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkJhY2tncm91bmQgVkMgdmFsaWRhdGlvbiBwcm9jZXNzIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAvLyBXZSBjYW4ndCBkbyBtdWNoIGhlcmUgc2luY2UgdGhpcyBpcyBydW5uaW5nIGluIHRoZSBiYWNrZ3JvdW5kXG4gICAgICAvLyBUaGUgVUkgd2lsbCBoYW5kbGUgdGltZW91dHMgYW5kIHJldHJpZXNcbiAgICB9XG4gIH0pKCk7XG59XG5cbi8vIENyZWF0ZSBhcHByb3ByaWF0ZSBmYWxsYmFjayBhbmFseXNpcyBiYXNlZCBvbiBhZ2VudCB0eXBlXG5mdW5jdGlvbiBjcmVhdGVGYWxsYmFja0FuYWx5c2lzKFxuICBhZ2VudFR5cGU6IFZDQWdlbnRUeXBlLCBcbiAgY29udGV4dDogUmVjb3JkPHN0cmluZywgYW55PixcbiAgZXJyb3I/OiB1bmtub3duXG4pOiBhbnkge1xuICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgXG4gIHN3aXRjaCAoYWdlbnRUeXBlKSB7XG4gICAgY2FzZSAncHJvYmxlbSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbXByb3ZlZF9wcm9ibGVtX3N0YXRlbWVudDogY29udGV4dC51c2VyX2lucHV0IHx8IFwiTm8gYnVzaW5lc3MgaWRlYSBwcm92aWRlZFwiLFxuICAgICAgICBzZXZlcml0eV9pbmRleDogNSxcbiAgICAgICAgcHJvYmxlbV9mcmFtaW5nOiAnZ2xvYmFsJyxcbiAgICAgICAgcm9vdF9jYXVzZXM6IFtcIkFuYWx5c2lzIHVuYXZhaWxhYmxlIGR1ZSB0byBzZXJ2aWNlIGxpbWl0YXRpb25zXCJdLFxuICAgICAgICBzY29yZTogNSxcbiAgICAgICAgcmVhc29uaW5nOiBgQW5hbHlzaXMgY291bGQgbm90IGJlIGNvbXBsZXRlZCBkdWUgdG8gYW4gZXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWBcbiAgICAgIH07XG4gICAgY2FzZSAnbWFya2V0JzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRhbTogMTAwMDAwMDAwMCwgLy8gJDFCXG4gICAgICAgIHNhbTogMzAwMDAwMDAwLCAgLy8gJDMwME1cbiAgICAgICAgc29tOiAzMDAwMDAwMCwgICAvLyAkMzBNXG4gICAgICAgIGdyb3d0aF9yYXRlOiBcIlVua25vd24sIGVzdGltYXRlZCAxMC0xNSVcIixcbiAgICAgICAgbWFya2V0X2RlbWFuZDogXCJVbmFibGUgdG8gZGV0ZXJtaW5lIHByZWNpc2VseVwiLFxuICAgICAgICB3aHlfbm93OiBcIkN1cnJlbnQgbWFya2V0IGNvbmRpdGlvbnMgbWF5IGJlIHN1aXRhYmxlXCIsXG4gICAgICAgIHNjb3JlOiA1LFxuICAgICAgICByZWFzb25pbmc6IGBBbmFseXNpcyBjb3VsZCBub3QgYmUgY29tcGxldGVkIGR1ZSB0byBhbiBlcnJvcjogJHtlcnJvck1lc3NhZ2V9YFxuICAgICAgfTtcbiAgICAvLyBBZGQgb3RoZXIgYWdlbnQgdHlwZXMgYXMgbmVlZGVkXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIFByb2Nlc3MgdGhlIFZDIHZhbGlkYXRpb24gYXN5bmNocm9ub3VzbHlcbi8vIE5PVEU6IFRoaXMgZnVuY3Rpb24gaXMgbm8gbG9uZ2VyIGNhbGxlZCBkaXJlY3RseSwgYXMgaXQgd291bGQgdGltZW91dCBpbiBzZXJ2ZXJsZXNzIGVudmlyb25tZW50c1xuLy8gSW5zdGVhZCwgd2UgdXNlIHRoZSBwcm9jZXNzQWdlbnRTdGVwIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBieSBBUEkgcm91dGVzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzVkNWYWxpZGF0aW9uQXN5bmMoXG4gIHZhbGlkYXRpb25JZDogc3RyaW5nLFxuICBidXNpbmVzc0lkZWE6IHN0cmluZyxcbiAgYWRkaXRpb25hbENvbnRleHQ6IFJlY29yZDxzdHJpbmcsIGFueT5cbikge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiU3RhcnRpbmcgYXN5bmMgVkMgdmFsaWRhdGlvbiBwcm9jZXNzIGZvciBJRDpcIiwgdmFsaWRhdGlvbklkKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIFwicHJvY2Vzc2luZ1wiXG4gICAgYXdhaXQgdXBkYXRlVkNWYWxpZGF0aW9uU3RhdHVzKHZhbGlkYXRpb25JZCwgXCJwcm9jZXNzaW5nXCIpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIHRvIHNhdmUgZWFjaCBhZ2VudCBhbmFseXNpcyBhcyBpdCdzIGNvbXBsZXRlZFxuICAgIGNvbnN0IHNhdmVBZ2VudEFuYWx5c2lzID0gYXN5bmMgKGFnZW50VHlwZTogVkNBZ2VudFR5cGUsIGFuYWx5c2lzOiBhbnkpID0+IHtcbiAgICAgIGlmICghYW5hbHlzaXMpIHtcbiAgICAgICAgY29uc29sZS5sb2coYE5vIGFuYWx5c2lzIGRhdGEgZm9yICR7YWdlbnRUeXBlfSBhZ2VudCwgc2tpcHBpbmcgc2F2ZWApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nICR7YWdlbnRUeXBlfSBhZ2VudCByZXN1bHRzIChkYXRhIHByZXNlbnQ6ICR7ISFhbmFseXNpc30pYCk7XG4gICAgICAgIFxuICAgICAgICAvLyBFeHRyYWN0IHRoZSBzY29yZSBhbmQgcmVhc29uaW5nIGZyb20gdGhlIGFuYWx5c2lzXG4gICAgICAgIGNvbnN0IHNjb3JlID0gdHlwZW9mIGFuYWx5c2lzLnNjb3JlID09PSAnbnVtYmVyJyBcbiAgICAgICAgICA/IE1hdGgucm91bmQoYW5hbHlzaXMuc2NvcmUpIFxuICAgICAgICAgIDogKHR5cGVvZiBhbmFseXNpcy5zY29yZSA9PT0gJ3N0cmluZycgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoYW5hbHlzaXMuc2NvcmUpKSA6IDUpO1xuICAgICAgICBjb25zdCByZWFzb25pbmcgPSBhbmFseXNpcy5yZWFzb25pbmcgfHwgXCJBbmFseXNpcyBjb21wbGV0ZWQgd2l0aCBsaW1pdGVkIGluZm9ybWF0aW9uLlwiO1xuICAgICAgICBcbiAgICAgICAgLy8gU2F2ZSB0aGUgYWdlbnQgYW5hbHlzaXNcbiAgICAgICAgY29uc3QgYWdlbnRSZXN1bHQgPSBhd2FpdCBhZGRBZ2VudEFuYWx5c2lzKFxuICAgICAgICAgIHZhbGlkYXRpb25JZCxcbiAgICAgICAgICBhZ2VudFR5cGUsXG4gICAgICAgICAgeyBidXNpbmVzc0lkZWEsIC4uLmFkZGl0aW9uYWxDb250ZXh0IH0sIC8vIElucHV0IGNvbnRleHRcbiAgICAgICAgICBhbmFseXNpcywgLy8gVGhlIGFuYWx5c2lzIHJlc3VsdFxuICAgICAgICAgIHNjb3JlLFxuICAgICAgICAgIHJlYXNvbmluZyxcbiAgICAgICAgICB7fSAvLyBFbmhhbmNlZCBjb250ZXh0IChlbXB0eSBmb3Igbm93KVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGFnZW50UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU2F2ZWQgJHthZ2VudFR5cGV9IGFnZW50IGFuYWx5c2lzIHRvIGRhdGFiYXNlYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc2F2aW5nICR7YWdlbnRUeXBlfSBhZ2VudCBhbmFseXNpczpgLCBhZ2VudFJlc3VsdC5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHByb2Nlc3NpbmcgJHthZ2VudFR5cGV9IGFnZW50IGFuYWx5c2lzOmAsIGVycm9yKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgc2ltcGxpZmllZCBmYWxsYmFjayBhbmFseXNpcyB0byBzYXZlXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrQW5hbHlzaXMgPSB7XG4gICAgICAgICAgc3RhdHVzOiBcImNvbXBsZXRlZF93aXRoX2Vycm9yc1wiLFxuICAgICAgICAgIHNjb3JlOiA1LFxuICAgICAgICAgIHJlYXNvbmluZzogYEFuYWx5c2lzIGVuY291bnRlcmVkIHRlY2huaWNhbCBkaWZmaWN1bHRpZXM6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUcnkgdG8gc2F2ZSB0aGUgZmFsbGJhY2sgYW5hbHlzaXNcbiAgICAgICAgICBhd2FpdCBhZGRBZ2VudEFuYWx5c2lzKFxuICAgICAgICAgICAgdmFsaWRhdGlvbklkLFxuICAgICAgICAgICAgYWdlbnRUeXBlLFxuICAgICAgICAgICAgeyBidXNpbmVzc0lkZWEsIC4uLmFkZGl0aW9uYWxDb250ZXh0IH0sXG4gICAgICAgICAgICBmYWxsYmFja0FuYWx5c2lzLFxuICAgICAgICAgICAgNSxcbiAgICAgICAgICAgIGZhbGxiYWNrQW5hbHlzaXMucmVhc29uaW5nLFxuICAgICAgICAgICAge31cbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBTYXZlZCBmYWxsYmFjayBhbmFseXNpcyBmb3IgJHthZ2VudFR5cGV9IGFnZW50YCk7XG4gICAgICAgIH0gY2F0Y2ggKHNhdmVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBzYXZlIGZhbGxiYWNrIGFuYWx5c2lzIGZvciAke2FnZW50VHlwZX0gYWdlbnQ6YCwgc2F2ZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLy8gQ3JlYXRlIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGFnZW50IGNvbXBsZXRpb25cbiAgICBjb25zdCBvbkFnZW50Q29tcGxldGUgPSBhc3luYyAoYWdlbnRUeXBlOiBWQ0FnZW50VHlwZSwgYW5hbHlzaXM6IGFueSkgPT4ge1xuICAgICAgYXdhaXQgc2F2ZUFnZW50QW5hbHlzaXMoYWdlbnRUeXBlLCBhbmFseXNpcyk7XG4gICAgfTtcbiAgICBcbiAgICAvLyBBZGQgdGltZW91dCBmb3IgdGhlIHZhbGlkYXRpb24gcHJvY2VzcyAoNSBtaW51dGVzKVxuICAgIGNvbnN0IHRpbWVvdXRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHJlamVjdCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QobmV3IEVycm9yKFwiVkMgdmFsaWRhdGlvbiBwcm9jZXNzIHRpbWVkIG91dCBhZnRlciA1IG1pbnV0ZXNcIikpLCA1ICogNjAgKiAxMDAwKTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBSdW4gdGhlIG11bHRpLWFnZW50IHZhbGlkYXRpb24gd2l0aCBjYWxsYmFja3MgYW5kIHRpbWVvdXRcbiAgICBjb25zdCB2YWxpZGF0aW9uUHJvbWlzZSA9IHJ1blZDVmFsaWRhdGlvbihcbiAgICAgIGJ1c2luZXNzSWRlYSwgXG4gICAgICBhZGRpdGlvbmFsQ29udGV4dCxcbiAgICAgIG9uQWdlbnRDb21wbGV0ZSAgLy8gUGFzcyB0aGUgY2FsbGJhY2tcbiAgICApO1xuICAgIFxuICAgIC8vIExvZyBmb3IgZGVidWdnaW5nIEFQSSBjYWxscyBpbiBwcm9kdWN0aW9uXG4gICAgY29uc29sZS5sb2coXCJWYWxpZGF0aW9uIHByb2Nlc3Mgc3RhcnRlZCwgd2FpdGluZyBmb3IgYWdlbnQgcmVzdWx0cy4uLlwiKTtcbiAgICBcbiAgICAvLyBSYWNlIHRoZSB2YWxpZGF0aW9uIHByb2Nlc3MgYWdhaW5zdCB0aGUgdGltZW91dFxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbdmFsaWRhdGlvblByb21pc2UsIHRpbWVvdXRQcm9taXNlXSkgYXMgQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBydW5WQ1ZhbGlkYXRpb24+PjtcbiAgICBcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVkMgdmFsaWRhdGlvbiBwcm9jZXNzIGZhaWxlZDpcIiwgcmVzdWx0LmVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBZGRpdGlvbmFsIGVycm9yIGRldGFpbHM6XCIsIHJlc3VsdC5lcnJvcl9kZXRhaWxzIHx8IFwiTm8gZGV0YWlscyBhdmFpbGFibGVcIik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIGF0IGFnZW50OlwiLCByZXN1bHQuZmFpbGVkX2F0IHx8IFwiVW5rbm93biBzdGFnZVwiKTtcbiAgICAgIFxuICAgICAgLy8gRXZlbiBpZiB0aGUgcHJvY2VzcyBmYWlscywgd2Ugc2hvdWxkIGNoZWNrIGlmIHdlIHJlY2VpdmVkIHBhcnRpYWwgcmVzdWx0c1xuICAgICAgLy8gdGhhdCB3ZSBjYW4gdXNlIHRvIGdlbmVyYXRlIGEgYmFzaWMgcmVwb3J0XG4gICAgICBjb25zdCBhZ2VudEFuYWx5c2VzID0gcmVzdWx0LmFnZW50X2FuYWx5c2VzIGFzIFBhcnRpYWw8UmVjb3JkPFZDQWdlbnRUeXBlLCBhbnk+PiB8fCB7fTtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhhZ2VudEFuYWx5c2VzKS5sZW5ndGggPiAwICYmIFxuICAgICAgICAgIE9iamVjdC5rZXlzKGFnZW50QW5hbHlzZXMpLnNvbWUoa2V5ID0+IGFnZW50QW5hbHlzZXNba2V5IGFzIFZDQWdlbnRUeXBlXSAhPT0gbnVsbCkpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJHZW5lcmF0aW5nIGZhbGxiYWNrIHJlcG9ydCBmcm9tIHBhcnRpYWwgYWdlbnQgYW5hbHlzZXNcIik7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgYSBiYXNpYyByZXBvcnQgZnJvbSB3aGF0ZXZlciBhZ2VudHMgY29tcGxldGVkIHN1Y2Nlc3NmdWxseVxuICAgICAgICBjb25zdCBmYWxsYmFja1JlcG9ydCA9IGdlbmVyYXRlRmFsbGJhY2tSZXBvcnQoYnVzaW5lc3NJZGVhLCBhZ2VudEFuYWx5c2VzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNhdmUgdGhlIGZhbGxiYWNrIHJlcG9ydFxuICAgICAgICBhd2FpdCBzZXRWQ1JlcG9ydCh2YWxpZGF0aW9uSWQsIGZhbGxiYWNrUmVwb3J0LCA2MCk7IC8vIENvbnNlcnZhdGl2ZSBzY29yZSBmb3IgZmFsbGJhY2sgcmVwb3J0c1xuICAgICAgICBcbiAgICAgICAgLy8gTWFyayBhcyBjb21wbGV0ZWQgd2l0aCB3YXJuaW5nIGZsYWdcbiAgICAgICAgYXdhaXQgdXBkYXRlVkNWYWxpZGF0aW9uU3RhdHVzKHZhbGlkYXRpb25JZCwgXCJjb21wbGV0ZWRfd2l0aF9lcnJvcnNcIik7XG4gICAgICAgIFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIHdlIGNhbid0IGdlbmVyYXRlIGEgZmFsbGJhY2sgcmVwb3J0LCBtYXJrIGFzIGZhaWxlZFxuICAgICAgYXdhaXQgdXBkYXRlVkNWYWxpZGF0aW9uU3RhdHVzKHZhbGlkYXRpb25JZCwgXCJmYWlsZWRcIik7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIGEgbWluaW1hbCBlcnJvciByZXBvcnRcbiAgICAgIGNvbnN0IGVycm9yUmVwb3J0ID0ge1xuICAgICAgICBvdmVyYWxsX3Njb3JlOiA1MCxcbiAgICAgICAgYnVzaW5lc3NfdHlwZTogXCJVbnNwZWNpZmllZFwiLFxuICAgICAgICB3ZWlnaHRlZF9zY29yZXM6IHt9LFxuICAgICAgICBjYXRlZ29yeV9zY29yZXM6IHt9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbjogXCJUaGUgdmFsaWRhdGlvbiBwcm9jZXNzIGVuY291bnRlcmVkIHRlY2huaWNhbCBkaWZmaWN1bHRpZXMuIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICBcIldlIHJlY29tbWVuZCB0cnlpbmcgYWdhaW4gbGF0ZXIuXCIsXG4gICAgICAgIHN0cmVuZ3RoczogW10sXG4gICAgICAgIHdlYWtuZXNzZXM6IFtdLFxuICAgICAgICBzdWdnZXN0ZWRfYWN0aW9uczogW1wiVHJ5IHZhbGlkYXRpbmcgYWdhaW5cIl0sXG4gICAgICAgIGlkZWFfaW1wcm92ZW1lbnRzOiB7XG4gICAgICAgICAgb3JpZ2luYWxfaWRlYTogYnVzaW5lc3NJZGVhLFxuICAgICAgICAgIGltcHJvdmVkX2lkZWE6IGJ1c2luZXNzSWRlYSxcbiAgICAgICAgICBwcm9ibGVtX3N0YXRlbWVudDogXCJcIixcbiAgICAgICAgICBtYXJrZXRfcG9zaXRpb25pbmc6IFwiXCIsXG4gICAgICAgICAgdXZwOiBcIlwiLFxuICAgICAgICAgIGJ1c2luZXNzX21vZGVsOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBTYXZlIHRoZSBlcnJvciByZXBvcnQgcmVnYXJkbGVzcyBvZiBzdGF0dXNcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNldFZDUmVwb3J0KHZhbGlkYXRpb25JZCwgZXJyb3JSZXBvcnQsIDUwKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTYXZlZCBtaW5pbWFsIGVycm9yIHJlcG9ydFwiKTtcbiAgICAgIH0gY2F0Y2ggKHJlcG9ydEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzYXZpbmcgbWluaW1hbCBlcnJvciByZXBvcnQ6XCIsIHJlcG9ydEVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZyhcIlZDIHZhbGlkYXRpb24gcHJvY2VzcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xuICAgIFxuICAgIC8vIEF0IHRoaXMgcG9pbnQsIGFsbCBhZ2VudCBhbmFseXNlcyBoYXZlIGFscmVhZHkgYmVlbiBzYXZlZCBpbmRpdmlkdWFsbHkgdGhyb3VnaCBjYWxsYmFja3NcbiAgICAvLyBXZSBqdXN0IG5lZWQgdG8gc2F2ZSB0aGUgZmluYWwgcmVwb3J0XG4gICAgXG4gICAgaWYgKHJlc3VsdC52Y19yZXBvcnQpIHtcbiAgICAgIC8vIFdhaXQgYSBtb21lbnQgYmVmb3JlIHNhdmluZyBmaW5hbCByZXBvcnQgdG8gZW5zdXJlIFVJIGNhcHR1cmVzIGFsbCBzdGFnZXNcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgdGhlIGZpbmFsIFZDIHJlcG9ydFxuICAgICAgY29uc3Qgb3ZlcmFsbFNjb3JlID0gcmVzdWx0LnZjX3JlcG9ydC5vdmVyYWxsX3Njb3JlO1xuICAgICAgYXdhaXQgc2V0VkNSZXBvcnQodmFsaWRhdGlvbklkLCByZXN1bHQudmNfcmVwb3J0LCBvdmVyYWxsU2NvcmUpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIGNvbXBsZXRlZFxuICAgICAgYXdhaXQgdXBkYXRlVkNWYWxpZGF0aW9uU3RhdHVzKHZhbGlkYXRpb25JZCwgXCJjb21wbGV0ZWRcIik7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiVkMgdmFsaWRhdGlvbiByZXBvcnQgc2F2ZWQgdG8gZGF0YWJhc2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJObyBWQyByZXBvcnQgZ2VuZXJhdGVkIGRlc3BpdGUgc3VjY2Vzc2Z1bCB2YWxpZGF0aW9uXCIpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBtaW5pbWFsIGZhbGxiYWNrIHJlcG9ydFxuICAgICAgY29uc3QgZmFsbGJhY2tSZXBvcnQgPSB7XG4gICAgICAgIG92ZXJhbGxfc2NvcmU6IDY1LFxuICAgICAgICBidXNpbmVzc190eXBlOiBcIlVuc3BlY2lmaWVkXCIsXG4gICAgICAgIHdlaWdodGVkX3Njb3Jlczoge30sXG4gICAgICAgIGNhdGVnb3J5X3Njb3Jlczoge30sXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOiBcIldlJ3ZlIGFuYWx5emVkIHlvdXIgYnVzaW5lc3MgaWRlYSBhbmQgZm91bmQgaXQgdG8gaGF2ZSBtZXJpdCwgYnV0IGVuY291bnRlcmVkIHRlY2huaWNhbCBsaW1pdGF0aW9ucyBkdXJpbmcgZnVsbCBhbmFseXNpcy5cIixcbiAgICAgICAgc3RyZW5ndGhzOiBbXCJZb3VyIGlkZWEgYWRkcmVzc2VzIGEgcmVhbCBwcm9ibGVtXCJdLFxuICAgICAgICB3ZWFrbmVzc2VzOiBbXSxcbiAgICAgICAgc3VnZ2VzdGVkX2FjdGlvbnM6IFtcIkZ1cnRoZXIgdmFsaWRhdGUgd2l0aCBwb3RlbnRpYWwgY3VzdG9tZXJzXCJdLFxuICAgICAgICBpZGVhX2ltcHJvdmVtZW50czoge1xuICAgICAgICAgIG9yaWdpbmFsX2lkZWE6IGJ1c2luZXNzSWRlYSxcbiAgICAgICAgICBpbXByb3ZlZF9pZGVhOiBidXNpbmVzc0lkZWEsXG4gICAgICAgICAgcHJvYmxlbV9zdGF0ZW1lbnQ6IFwiWW91ciBidXNpbmVzcyBhZGRyZXNzZXMgYSBwb3RlbnRpYWwgbWFya2V0IG5lZWRcIixcbiAgICAgICAgICBtYXJrZXRfcG9zaXRpb25pbmc6IFwiXCIsXG4gICAgICAgICAgdXZwOiBcIlwiLFxuICAgICAgICAgIGJ1c2luZXNzX21vZGVsOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBTYXZlIHRoZSBmYWxsYmFjayByZXBvcnRcbiAgICAgIGF3YWl0IHNldFZDUmVwb3J0KHZhbGlkYXRpb25JZCwgZmFsbGJhY2tSZXBvcnQsIDY1KTtcbiAgICAgIGF3YWl0IHVwZGF0ZVZDVmFsaWRhdGlvblN0YXR1cyh2YWxpZGF0aW9uSWQsIFwiY29tcGxldGVkX3dpdGhfZXJyb3JzXCIpO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIlNhdmVkIGZhbGxiYWNrIHJlcG9ydCBkdWUgdG8gbWlzc2luZyBWQyByZXBvcnQgaW4gc3VjY2Vzc2Z1bCB2YWxpZGF0aW9uXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gcHJvY2Vzc1ZDVmFsaWRhdGlvbkFzeW5jOlwiLCBlcnJvcik7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdlbmVyYXRlIGEgZGlhZ25vc3RpYyByZXBvcnQgd2l0aCB0aGUgZXJyb3IgaW5mb3JtYXRpb25cbiAgICAgIGNvbnN0IGVycm9yRGV0YWlscyA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgbmFtZTogZXJyb3IubmFtZVxuICAgICAgfSA6IHsgbWVzc2FnZTogXCJVbmtub3duIGVycm9yIHR5cGVcIiB9O1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSBtaW5pbWFsIGZhbGxiYWNrIHJlcG9ydFxuICAgICAgY29uc3QgZXJyb3JSZXBvcnQgPSB7XG4gICAgICAgIG92ZXJhbGxfc2NvcmU6IDUwLFxuICAgICAgICBidXNpbmVzc190eXBlOiBcIlVuc3BlY2lmaWVkXCIsXG4gICAgICAgIHdlaWdodGVkX3Njb3Jlczoge30sXG4gICAgICAgIGNhdGVnb3J5X3Njb3Jlczoge30sXG4gICAgICAgIHJlY29tbWVuZGF0aW9uOiBcIlRoZSB2YWxpZGF0aW9uIHByb2Nlc3MgZW5jb3VudGVyZWQgdGVjaG5pY2FsIGRpZmZpY3VsdGllcy4gXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiV2UgcmVjb21tZW5kIHRyeWluZyBhZ2FpbiBvciB1c2luZyB0aGUgc3RhbmRhcmQgdmFsaWRhdGlvbiBvcHRpb24uXCIsXG4gICAgICAgIHN0cmVuZ3RoczogW10sXG4gICAgICAgIHdlYWtuZXNzZXM6IFtdLFxuICAgICAgICBzdWdnZXN0ZWRfYWN0aW9uczogW1wiVHJ5IHZhbGlkYXRpbmcgd2l0aCB0aGUgYmFzaWMgdmFsaWRhdG9yIGluc3RlYWRcIl0sXG4gICAgICAgIGlkZWFfaW1wcm92ZW1lbnRzOiB7XG4gICAgICAgICAgb3JpZ2luYWxfaWRlYTogYnVzaW5lc3NJZGVhLFxuICAgICAgICAgIGltcHJvdmVkX2lkZWE6IGJ1c2luZXNzSWRlYSxcbiAgICAgICAgICBwcm9ibGVtX3N0YXRlbWVudDogXCJcIixcbiAgICAgICAgICBtYXJrZXRfcG9zaXRpb25pbmc6IFwiXCIsXG4gICAgICAgICAgdXZwOiBcIlwiLFxuICAgICAgICAgIGJ1c2luZXNzX21vZGVsOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIGRpYWdub3N0aWNzOiB7XG4gICAgICAgICAgZXJyb3I6IGVycm9yRGV0YWlscyxcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gU2F2ZSB0aGUgZXJyb3IgcmVwb3J0XG4gICAgICBhd2FpdCBzZXRWQ1JlcG9ydCh2YWxpZGF0aW9uSWQsIGVycm9yUmVwb3J0LCA1MCk7XG4gICAgfSBjYXRjaCAocmVwb3J0RXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmYWxsYmFjayBlcnJvciByZXBvcnQ6XCIsIHJlcG9ydEVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIHN0YXR1cyB0byBmYWlsZWRcbiAgICBhd2FpdCB1cGRhdGVWQ1ZhbGlkYXRpb25TdGF0dXModmFsaWRhdGlvbklkLCBcImZhaWxlZFwiKTtcbiAgfVxufVxuXG4vLyBHZW5lcmF0ZSBhIGJhc2ljIHJlcG9ydCBmcm9tIHBhcnRpYWwgYWdlbnQgYW5hbHlzZXNcbmZ1bmN0aW9uIGdlbmVyYXRlRmFsbGJhY2tSZXBvcnQoYnVzaW5lc3NJZGVhOiBzdHJpbmcsIGFnZW50QW5hbHlzZXM6IFBhcnRpYWw8UmVjb3JkPFZDQWdlbnRUeXBlLCBhbnk+Pik6IGFueSB7XG4gIC8vIEdldCBhbGwgY29tcGxldGVkIGFnZW50IGtleXNcbiAgY29uc3QgY29tcGxldGVkQWdlbnRzID0gT2JqZWN0LmtleXMoYWdlbnRBbmFseXNlcykuZmlsdGVyKFxuICAgIGsgPT4gYWdlbnRBbmFseXNlc1trIGFzIFZDQWdlbnRUeXBlXSAhPT0gbnVsbFxuICApIGFzIFZDQWdlbnRUeXBlW107XG4gIFxuICBjb25zb2xlLmxvZyhgR2VuZXJhdGluZyBmYWxsYmFjayByZXBvcnQgZnJvbSAke2NvbXBsZXRlZEFnZW50cy5sZW5ndGh9IGNvbXBsZXRlZCBhZ2VudHM6YCwgY29tcGxldGVkQWdlbnRzKTtcbiAgXG4gIC8vIENhbGN1bGF0ZSBhbiBhdmVyYWdlIHNjb3JlIGZyb20gYWxsIGF2YWlsYWJsZSBhZ2VudCBzY29yZXNcbiAgY29uc3Qgc2NvcmVzID0gY29tcGxldGVkQWdlbnRzLm1hcChhZ2VudCA9PiB7XG4gICAgY29uc3QgYW5hbHlzaXMgPSBhZ2VudEFuYWx5c2VzW2FnZW50XTtcbiAgICBpZiAoIWFuYWx5c2lzIHx8IHR5cGVvZiBhbmFseXNpcy5zY29yZSAhPT0gJ251bWJlcicpIHJldHVybiAwO1xuICAgIHJldHVybiBhbmFseXNpcy5zY29yZTtcbiAgfSkuZmlsdGVyKHNjb3JlID0+IHNjb3JlID4gMCk7XG4gIFxuICBjb25zdCBhdmdTY29yZSA9IHNjb3Jlcy5sZW5ndGggPiAwIFxuICAgID8gTWF0aC5yb3VuZChzY29yZXMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBzY29yZXMubGVuZ3RoKSBcbiAgICA6IDYwOyAvLyBEZWZhdWx0IGZhbGxiYWNrIHNjb3JlXG4gIFxuICAvLyBFeHRyYWN0IHN0cmVuZ3RocyBhbmQgd2Vha25lc3NlcyBmcm9tIGF2YWlsYWJsZSBhZ2VudHNcbiAgY29uc3Qgc3RyZW5ndGhzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCB3ZWFrbmVzc2VzOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBhY3Rpb25zOiBzdHJpbmdbXSA9IFtdO1xuICBcbiAgLy8gQWRkIGJlc3QgaW5mb3JtYXRpb24gZnJvbSBlYWNoIGNvbXBsZXRlZCBhZ2VudFxuICBjb21wbGV0ZWRBZ2VudHMuZm9yRWFjaChhZ2VudCA9PiB7XG4gICAgY29uc3QgYW5hbHlzaXMgPSBhZ2VudEFuYWx5c2VzW2FnZW50XTtcbiAgICBpZiAoIWFuYWx5c2lzKSByZXR1cm47XG4gICAgXG4gICAgLy8gQWRkIHN0cmVuZ3RocyBpZiBhdmFpbGFibGVcbiAgICBpZiAoYW5hbHlzaXMuc3RyZW5ndGhzICYmIEFycmF5LmlzQXJyYXkoYW5hbHlzaXMuc3RyZW5ndGhzKSkge1xuICAgICAgc3RyZW5ndGhzLnB1c2goLi4uYW5hbHlzaXMuc3RyZW5ndGhzLnNsaWNlKDAsIDIpKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHdlYWtuZXNzZXMgaWYgYXZhaWxhYmxlXG4gICAgaWYgKGFuYWx5c2lzLndlYWtuZXNzZXMgJiYgQXJyYXkuaXNBcnJheShhbmFseXNpcy53ZWFrbmVzc2VzKSkge1xuICAgICAgd2Vha25lc3Nlcy5wdXNoKC4uLmFuYWx5c2lzLndlYWtuZXNzZXMuc2xpY2UoMCwgMikpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBZGQgYWN0aW9ucyBvciByZWNvbW1lbmRhdGlvbnMgaWYgYXZhaWxhYmxlXG4gICAgaWYgKGFuYWx5c2lzLnJlY29tbWVuZGF0aW9ucyAmJiBBcnJheS5pc0FycmF5KGFuYWx5c2lzLnJlY29tbWVuZGF0aW9ucykpIHtcbiAgICAgIGFjdGlvbnMucHVzaCguLi5hbmFseXNpcy5yZWNvbW1lbmRhdGlvbnMuc2xpY2UoMCwgMikpO1xuICAgIH0gZWxzZSBpZiAoYW5hbHlzaXMuc3VnZ2VzdGVkX2FjdGlvbnMgJiYgQXJyYXkuaXNBcnJheShhbmFseXNpcy5zdWdnZXN0ZWRfYWN0aW9ucykpIHtcbiAgICAgIGFjdGlvbnMucHVzaCguLi5hbmFseXNpcy5zdWdnZXN0ZWRfYWN0aW9ucy5zbGljZSgwLCAyKSk7XG4gICAgfVxuICB9KTtcbiAgXG4gIC8vIENyZWF0ZSBjYXRlZ29yeSBzY29yZXMgZnJvbSBhdmFpbGFibGUgYWdlbnQgYW5hbHlzZXNcbiAgY29uc3QgY2F0ZWdvcnlTY29yZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgXG4gIGlmIChhZ2VudEFuYWx5c2VzLnByb2JsZW0pIGNhdGVnb3J5U2NvcmVzLnByb2JsZW0gPSBhZ2VudEFuYWx5c2VzLnByb2JsZW0uc2NvcmUgfHwgMDtcbiAgaWYgKGFnZW50QW5hbHlzZXMubWFya2V0KSBjYXRlZ29yeVNjb3Jlcy5tYXJrZXQgPSBhZ2VudEFuYWx5c2VzLm1hcmtldC5zY29yZSB8fCAwO1xuICBpZiAoYWdlbnRBbmFseXNlcy5jb21wZXRpdGl2ZSkgY2F0ZWdvcnlTY29yZXMuY29tcGV0aXRpb24gPSBhZ2VudEFuYWx5c2VzLmNvbXBldGl0aXZlLnNjb3JlIHx8IDA7XG4gIGlmIChhZ2VudEFuYWx5c2VzLmJ1c2luZXNzX21vZGVsKSBjYXRlZ29yeVNjb3Jlcy5idXNpbmVzc19tb2RlbCA9IGFnZW50QW5hbHlzZXMuYnVzaW5lc3NfbW9kZWwuc2NvcmUgfHwgMDtcbiAgaWYgKGFnZW50QW5hbHlzZXMudXZwKSBjYXRlZ29yeVNjb3Jlcy51bmlxdWVfdmFsdWUgPSBhZ2VudEFuYWx5c2VzLnV2cC5zY29yZSB8fCAwO1xuICBpZiAoYWdlbnRBbmFseXNlcy52YWxpZGF0aW9uKSBjYXRlZ29yeVNjb3Jlcy52YWxpZGF0aW9uID0gYWdlbnRBbmFseXNlcy52YWxpZGF0aW9uLnNjb3JlIHx8IDA7XG4gIFxuICByZXR1cm4ge1xuICAgIG92ZXJhbGxfc2NvcmU6IGF2Z1Njb3JlLFxuICAgIGJ1c2luZXNzX3R5cGU6IFwiU3RhcnR1cFwiLCAvLyBEZWZhdWx0XG4gICAgd2VpZ2h0ZWRfc2NvcmVzOiB7XG4gICAgICBwcm9ibGVtOiAwLjIsXG4gICAgICBtYXJrZXQ6IDAuMixcbiAgICAgIGNvbXBldGl0aW9uOiAwLjE1LFxuICAgICAgYnVzaW5lc3NfbW9kZWw6IDAuMjUsXG4gICAgICB1bmlxdWVfdmFsdWU6IDAuMlxuICAgIH0sXG4gICAgY2F0ZWdvcnlfc2NvcmVzOiBjYXRlZ29yeVNjb3JlcyxcbiAgICByZWNvbW1lbmRhdGlvbjogXCJUaGlzIGlzIGEgcGFydGlhbCBhbmFseXNpcyBiYXNlZCBvbiB0aGUgc3VjY2Vzc2Z1bGx5IGNvbXBsZXRlZCBwb3J0aW9ucyBvZiB0aGUgdmFsaWRhdGlvbiBwcm9jZXNzLlwiLFxuICAgIHN0cmVuZ3Roczogc3RyZW5ndGhzLnNsaWNlKDAsIDUpLFxuICAgIHdlYWtuZXNzZXM6IHdlYWtuZXNzZXMuc2xpY2UoMCwgNSksXG4gICAgc3VnZ2VzdGVkX2FjdGlvbnM6IFsuLi5hY3Rpb25zLnNsaWNlKDAsIDUpLCBcIkNvbnNpZGVyIHJ1bm5pbmcgYSBzdGFuZGFyZCB2YWxpZGF0aW9uIGZvciBtb3JlIGNvbXBsZXRlIHJlc3VsdHNcIl0sXG4gICAgaWRlYV9pbXByb3ZlbWVudHM6IHtcbiAgICAgIG9yaWdpbmFsX2lkZWE6IGJ1c2luZXNzSWRlYSxcbiAgICAgIGltcHJvdmVkX2lkZWE6IGFnZW50QW5hbHlzZXMucHJvYmxlbT8uaW1wcm92ZWRfcHJvYmxlbV9zdGF0ZW1lbnQgfHwgYnVzaW5lc3NJZGVhLFxuICAgICAgcHJvYmxlbV9zdGF0ZW1lbnQ6IGFnZW50QW5hbHlzZXMucHJvYmxlbT8ucHJvYmxlbV9zdGF0ZW1lbnQgfHwgXCJcIixcbiAgICAgIG1hcmtldF9wb3NpdGlvbmluZzogYWdlbnRBbmFseXNlcy5tYXJrZXQ/LnRhcmdldF9zZWdtZW50IHx8IFwiXCIsXG4gICAgICB1dnA6IGFnZW50QW5hbHlzZXMudXZwPy5vbmVfbGluZXIgfHwgXCJcIixcbiAgICAgIGJ1c2luZXNzX21vZGVsOiBhZ2VudEFuYWx5c2VzLmJ1c2luZXNzX21vZGVsPy5yZXZlbnVlX21vZGVsIHx8IFwiXCJcbiAgICB9LFxuICAgIHBhcnRpYWxfYW5hbHlzaXM6IHRydWUsXG4gICAgY29tcGxldGVkX2FnZW50czogY29tcGxldGVkQWdlbnRzLFxuICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgfTtcbn0gIl0sIm5hbWVzIjpbInN1Ym1pdFZDVmFsaWRhdGlvbkZvcm0iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/features/validation/actions/submit-vc-validation-form.ts\n"));

/***/ })

});