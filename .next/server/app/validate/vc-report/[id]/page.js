(()=>{var e={};e.id=704,e.ids=[704],e.modules={43:(e,s,a)=>{"use strict";a.d(s,{jH:()=>i});var t=a(43210);a(60687);var r=t.createContext(void 0);function i(e){let s=t.useContext(r);return e||s||"ltr"}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},13894:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/artfct/Documents/Software Business/startup-validator/src/app/validate/vc-report/[id]/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/artfct/Documents/Software Business/startup-validator/src/app/validate/vc-report/[id]/page.tsx","default")},14952:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},16189:(e,s,a)=>{"use strict";var t=a(65773);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},54952:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d});var t=a(65239),r=a(48088),i=a(88170),l=a.n(i),n=a(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d={children:["",{children:["validate",{children:["vc-report",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,13894)),"/Users/artfct/Documents/Software Business/startup-validator/src/app/validate/vc-report/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/artfct/Documents/Software Business/startup-validator/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,54413)),"/Users/artfct/Documents/Software Business/startup-validator/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["/Users/artfct/Documents/Software Business/startup-validator/src/app/validate/vc-report/[id]/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/validate/vc-report/[id]/page",pathname:"/validate/vc-report/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69809:(e,s,a)=>{Promise.resolve().then(a.bind(a,93163))},72942:(e,s,a)=>{"use strict";a.d(s,{RG:()=>N,bL:()=>S,q7:()=>M});var t=a(43210),r=a(70569),i=a(9510),l=a(98599),n=a(11273),c=a(96963),d=a(14163),o=a(13495),m=a(65551),u=a(43),x=a(60687),p="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[j,g,v]=(0,i.N)(f),[y,N]=(0,n.A)(f,[v]),[b,w]=y(f),_=t.forwardRef((e,s)=>(0,x.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,x.jsx)(k,{...e,ref:s})})}));_.displayName=f;var k=t.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:a,orientation:i,loop:n=!1,dir:c,currentTabStopId:f,defaultCurrentTabStopId:j,onCurrentTabStopIdChange:v,onEntryFocus:y,preventScrollOnEntryFocus:N=!1,...w}=e,_=t.useRef(null),k=(0,l.s)(s,_),A=(0,u.jH)(c),[C=null,I]=(0,m.i)({prop:f,defaultProp:j,onChange:v}),[S,M]=t.useState(!1),D=(0,o.c)(y),P=g(a),B=t.useRef(!1),[Z,z]=t.useState(0);return t.useEffect(()=>{let e=_.current;if(e)return e.addEventListener(p,D),()=>e.removeEventListener(p,D)},[D]),(0,x.jsx)(b,{scope:a,orientation:i,dir:A,loop:n,currentTabStopId:C,onItemFocus:t.useCallback(e=>I(e),[I]),onItemShiftTab:t.useCallback(()=>M(!0),[]),onFocusableItemAdd:t.useCallback(()=>z(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>z(e=>e-1),[]),children:(0,x.jsx)(d.sG.div,{tabIndex:S||0===Z?-1:0,"data-orientation":i,...w,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,r.m)(e.onMouseDown,()=>{B.current=!0}),onFocus:(0,r.m)(e.onFocus,e=>{let s=!B.current;if(e.target===e.currentTarget&&s&&!S){let s=new CustomEvent(p,h);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){let e=P().filter(e=>e.focusable);R([e.find(e=>e.active),e.find(e=>e.id===C),...e].filter(Boolean).map(e=>e.ref.current),N)}}B.current=!1}),onBlur:(0,r.m)(e.onBlur,()=>M(!1))})})}),A="RovingFocusGroupItem",C=t.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:a,focusable:i=!0,active:l=!1,tabStopId:n,...o}=e,m=(0,c.B)(),u=n||m,p=w(A,a),h=p.currentTabStopId===u,f=g(a),{onFocusableItemAdd:v,onFocusableItemRemove:y}=p;return t.useEffect(()=>{if(i)return v(),()=>y()},[i,v,y]),(0,x.jsx)(j.ItemSlot,{scope:a,id:u,focusable:i,active:l,children:(0,x.jsx)(d.sG.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...o,ref:s,onMouseDown:(0,r.m)(e.onMouseDown,e=>{i?p.onItemFocus(u):e.preventDefault()}),onFocus:(0,r.m)(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:(0,r.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let s=function(e,s,a){var t;let r=(t=e.key,"rtl"!==a?t:"ArrowLeft"===t?"ArrowRight":"ArrowRight"===t?"ArrowLeft":t);if(!("vertical"===s&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===s&&["ArrowUp","ArrowDown"].includes(r)))return I[r]}(e,p.orientation,p.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=f().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)a.reverse();else if("prev"===s||"next"===s){"prev"===s&&a.reverse();let t=a.indexOf(e.currentTarget);a=p.loop?function(e,s){return e.map((a,t)=>e[(s+t)%e.length])}(a,t+1):a.slice(t+1)}setTimeout(()=>R(a))}})})})});C.displayName=A;var I={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function R(e,s=!1){let a=document.activeElement;for(let t of e)if(t===a||(t.focus({preventScroll:s}),document.activeElement!==a))return}var S=_,M=C},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79537:(e,s,a)=>{Promise.resolve().then(a.bind(a,13894))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},93163:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>F});var t=a(60687),r=a(43210),i=a(16189),l=a(44493),n=a(41862),c=a(14719),d=a(78122),o=a(28559),m=a(29523),u=a(46657),x=a(78272),p=a(14952);function h({businessType:e,overallScore:s,createdAt:a,categoryScores:i={},businessName:n}){let[c,d]=(0,r.useState)(!0),o="string"==typeof s?Math.round(Number.parseFloat(s)):Math.round(s),u=a?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(a)):"N/A",h=Object.entries(i).filter(([e])=>"overall"!==e).sort(([,e],[,s])=>s-e);return(0,t.jsx)(l.Zp,{className:"border-0 shadow-sm overflow-hidden bg-white",children:(0,t.jsxs)(l.Wu,{className:"p-0",children:[(0,t.jsx)("div",{className:"relative bg-zinc-900 text-white p-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"space-y-2 flex-1",children:[(0,t.jsx)("p",{className:"text-zinc-400 text-sm font-medium",children:"Analysis Report"}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-light",children:e}),(0,t.jsxs)("p",{className:"text-sm text-zinc-400",children:["Multi-Agent VC Analysis • ",u]})]}),(0,t.jsx)("div",{className:"ml-4 flex items-center",children:(0,t.jsxs)("div",{className:"relative w-20 h-20 flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#27272a",strokeWidth:"10"}),(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"#ffffff",strokeWidth:"5",strokeDasharray:`${2*Math.PI*45*o/100} ${2*Math.PI*45*(100-o)/100}`,strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center flex-col",children:[(0,t.jsx)("span",{className:"text-2xl font-light",children:o}),(0,t.jsx)("span",{className:"text-[10px] text-zinc-400 uppercase tracking-wider",children:"Score"})]})]})})]})}),h.length>0&&(0,t.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,t.jsxs)(m.$,{variant:"ghost",className:"w-full -ml-2 flex justify-start items-center p-1 text-sm font-medium text-zinc-500 mb-3 hover:bg-zinc-100/50",onClick:()=>d(!c),children:[c?(0,t.jsx)(x.A,{className:"h-4 w-4 mr-1"}):(0,t.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Category Performance"]}),c&&(0,t.jsx)("div",{className:"space-y-2.5 mt-2",children:h.map(([e,s])=>{let a=s>=8?"bg-emerald-500":s>=6?"bg-amber-500":"bg-rose-500",r=s/10*100;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs font-medium capitalize text-zinc-700",children:e.replace(/_/g," ")}),(0,t.jsx)("span",{className:"text-xs font-bold text-zinc-900",children:s})]}),(0,t.jsx)("div",{className:"h-2 w-full bg-zinc-100 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:`h-full ${a} rounded-full`,style:{width:`${r}%`}})})]},e)})})]})]})})}function f({originalIdea:e,improvedIdea:s}){return(0,t.jsxs)(l.Zp,{className:"border shadow-sm",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-xl",children:"Idea Improvements"}),(0,t.jsx)(l.BT,{children:"Our AI agents have improved your business idea"})]}),(0,t.jsxs)(l.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2",children:"Original Idea"}),(0,t.jsx)("div",{className:"bg-muted/50 p-4 rounded-md text-sm whitespace-pre-wrap",children:e})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-muted-foreground mb-2",children:"Improved Idea"}),(0,t.jsx)("div",{className:"bg-primary/10 p-4 rounded-md text-sm whitespace-pre-wrap",children:s||"No improvements suggested."})]})]})]})}function j({categoryScores:e}){return(0,t.jsxs)(l.Zp,{className:"border shadow-sm overflow-hidden",children:[(0,t.jsxs)(l.aR,{className:"bg-muted/30",children:[(0,t.jsxs)(l.ZB,{className:"text-xl flex items-center gap-2",children:[(0,t.jsx)("span",{className:"p-1.5 rounded-md bg-primary/10 text-primary",children:"\uD83D\uDCCA"}),"Category Scores"]}),(0,t.jsx)(l.BT,{children:"Analysis breakdown by specialist agents"})]}),(0,t.jsx)(l.Wu,{className:"pt-6",children:(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:Object.entries(e||{}).map(([e,s])=>{let a=s>=8?"text-green-500 border-green-200 bg-green-50":s>=6?"text-amber-500 border-amber-200 bg-amber-50":"text-red-500 border-red-200 bg-red-50",r=10*s,i=2*Math.PI*38;return(0,t.jsxs)("div",{className:`rounded-lg border p-4 flex flex-col items-center ${a}`,children:[(0,t.jsxs)("div",{className:"relative w-[100px] h-[100px] mb-2",children:[(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"38",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeOpacity:"0.2"}),(0,t.jsx)("circle",{cx:"50",cy:"50",r:"38",fill:"none",stroke:"currentColor",strokeWidth:"8",strokeDasharray:i,strokeDashoffset:i-r/100*i,strokeLinecap:"round",transform:"rotate(-90 50 50)"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold",children:s})})]}),(0,t.jsx)("div",{className:"font-medium text-center capitalize",children:e.replace(/_/g," ")})]},e)})})})]})}function g({strengths:e,weaknesses:s}){return(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Zp,{className:"border shadow-sm",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-xl",children:"Strengths"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("ul",{className:"space-y-1",children:e.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-green-500 text-lg leading-tight",children:"✓"}),(0,t.jsx)("span",{children:e})]},s))})})]}),(0,t.jsxs)(l.Zp,{className:"border shadow-sm",children:[(0,t.jsx)(l.aR,{children:(0,t.jsx)(l.ZB,{className:"text-xl",children:"Weaknesses"})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("ul",{className:"space-y-1",children:s.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"text-red-500 text-lg leading-tight",children:"⚠"}),(0,t.jsx)("span",{children:e})]},s))})})]})]})}function v({actions:e}){return(0,t.jsxs)(l.Zp,{className:"border shadow-sm",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-xl",children:"Next Steps"}),(0,t.jsx)(l.BT,{children:"Suggested actions to improve your business"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("ul",{className:"space-y-3",children:e.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"rounded-full bg-primary/10 text-primary h-6 w-6 flex items-center justify-center flex-shrink-0",children:s+1}),(0,t.jsx)("div",{children:e})]},s))})})]})}var y=a(71444),N=a(31158),b=a(81620),w=a(85814),_=a.n(w);function k(){return(0,t.jsx)("div",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur",children:(0,t.jsxs)("div",{className:"container flex h-14 items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsxs)(_(),{href:"/validate",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(m.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Print"]}),(0,t.jsxs)(m.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"Download PDF"]}),(0,t.jsxs)(m.$,{variant:"outline",size:"sm",children:[(0,t.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})})}function A({createdAt:e}){return(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground py-4",children:(0,t.jsxs)("p",{children:["VC Multi-Agent Validation Report | Generated on ",e?new Date(e).toLocaleDateString():"N/A"]})})}var C=a(96834),I=a(29844);let R={problem:"#4F6C92",market:"#5E8B7E",competitive:"#88659A",uvp:"#C27C7C",business_model:"#2A6587",validation:"#7B8F6C",legal:"#8D6E63",metrics:"#607D8B"},S={problem:"\uD83D\uDD0D",market:"\uD83D\uDCCA",competitive:"\uD83C\uDFC6",uvp:"⭐",business_model:"\uD83D\uDCBC",validation:"✓",legal:"⚖️",metrics:"\uD83D\uDCC8"};function M({agents:e}){let s=[...e].sort((e,s)=>{let a=["problem","market","competitive","uvp","business_model","validation","legal","metrics"];return a.indexOf(e.agent_type)-a.indexOf(s.agent_type)});return(0,t.jsxs)(l.Zp,{className:"border shadow-sm",children:[(0,t.jsxs)(l.aR,{className:"border-b",children:[(0,t.jsx)(l.ZB,{className:"text-xl font-bold",children:"Specialist Agent Analyses"}),(0,t.jsx)(l.BT,{children:"Each aspect of your business was analyzed by a specialized AI agent with unique expertise"})]}),(0,t.jsx)(l.Wu,{className:"p-0",children:(0,t.jsxs)(I.Tabs,{defaultValue:s[0]?.agent_type||"problem",className:"w-full",children:[(0,t.jsx)(I.TabsList,{className:"h-auto px-4 py-3 bg-muted/30 border-b flex flex-wrap justify-center gap-2",children:s.map(e=>(0,t.jsxs)(I.TabsTrigger,{value:e.agent_type,className:"flex flex-col items-center gap-1 py-2 px-3 min-w-[80px] data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:shadow-sm",style:{borderBottom:`2px solid ${R[e.agent_type]||"#888"}`},children:[(0,t.jsx)("span",{className:"text-lg",children:S[e.agent_type]}),(0,t.jsx)("span",{className:"font-medium capitalize text-xs text-center",children:Z(e.agent_type)}),(0,t.jsx)(C.E,{variant:"outline",className:"mt-1 text-xs bg-muted/50 px-1.5 py-0",children:e.score})]},e.id))}),(0,t.jsx)("div",{className:"w-full",children:s.map(e=>(0,t.jsx)(I.TabsContent,{value:e.agent_type,className:"mt-0",children:(0,t.jsx)(D,{agent:e})},e.id))})]})})]})}function D({agent:e}){let s=R[e.agent_type]||"#718096";return(0,t.jsx)("div",{className:"space-y-6 animate-in fade-in-50 duration-300",children:(0,t.jsxs)("div",{className:"overflow-hidden border rounded-lg",children:[(0,t.jsx)("div",{className:"bg-muted/20 py-4 px-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white",style:{backgroundColor:s},children:S[e.agent_type]}),(0,t.jsx)("div",{children:(0,t.jsxs)("h3",{className:"text-lg font-semibold capitalize",style:{color:s},children:[Z(e.agent_type)," ",(0,t.jsxs)("span",{className:"text-foreground",children:["(",e.score,"/10)"]})]})})]}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(P,{score:e.score,color:s})})]})}),(0,t.jsxs)("div",{className:"py-4 px-6",children:[(0,t.jsx)("div",{className:"md:hidden mb-4",children:(0,t.jsx)(P,{score:e.score,color:s})}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:e.reasoning}),(0,t.jsx)(B,{agent:e})]})]})})}function P({score:e,color:s}){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-40 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full",style:{width:`${10*e}%`,backgroundColor:s}})}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[e,"/10"]})]})}function B({agent:e}){let s=R[e.agent_type]||"#718096";if("problem"===e.agent_type)return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(l.Zp,{className:"overflow-hidden border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3 bg-muted/10",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Improved Problem Statement"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsx)("p",{children:e.analysis.improved_problem_statement})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Key Factors"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("span",{className:"text-sm",children:"Severity Index"}),(0,t.jsxs)("span",{className:"text-sm font-medium bg-muted px-2 py-1 rounded-md",children:[e.analysis.severity_index,"/10"]})]}),(0,t.jsx)("div",{className:"w-full h-1.5 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full",style:{width:`${e.analysis.severity_index/10*100}%`,backgroundColor:s}})}),(0,t.jsxs)("div",{className:"pt-4 mt-4 border-t",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Problem Framing"}),(0,t.jsx)(C.E,{className:"text-xs px-2 py-1",style:{backgroundColor:s},children:"global"===e.analysis.problem_framing?"Global Impact":"Niche Focus"})]})]})})]}),(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Root Causes"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsx)("div",{className:"space-y-2",children:Array.isArray(e.analysis.root_causes)&&e.analysis.root_causes.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s}}),(0,t.jsx)("span",{className:"text-sm",children:e})]},a))})})]})]})]});if("market"===e.agent_type){let a=e.analysis.tam||0,r=e.analysis.sam||0,i=e.analysis.som||0,n=a>0?Math.round(r/a*100):0,c=r>0?Math.round(i/r*100):0;return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Market Size Analysis"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsxs)("ul",{className:"space-y-3",children:[(0,t.jsxs)("li",{className:"flex justify-between items-center py-1 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:s}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Total Addressable Market"})]}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:["$",z(e.analysis.tam)]})]}),(0,t.jsxs)("li",{className:"flex justify-between items-center py-1 border-b",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:s,opacity:.8}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Serviceable Available Market"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("span",{className:"text-sm font-bold",children:["$",z(e.analysis.sam)]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground block",children:[n,"% of TAM"]})]})]}),(0,t.jsxs)("li",{className:"flex justify-between items-center py-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:s,opacity:.6}}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Serviceable Obtainable Market"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("span",{className:"text-sm font-bold",children:["$",z(e.analysis.som)]}),(0,t.jsxs)("span",{className:"text-xs text-muted-foreground block",children:[c,"% of SAM"]})]})]})]})})]}),(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Market Opportunity"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Growth Rate"}),(0,t.jsx)("div",{className:"bg-muted/20 p-2 rounded text-sm",children:e.analysis.growth_rate})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Market Demand"}),(0,t.jsx)("div",{className:"bg-muted/20 p-2 rounded text-sm",children:e.analysis.market_demand})]})]})})]})]}),(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Why Now?"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsx)("div",{className:"p-3 border rounded-md bg-muted/10",children:(0,t.jsx)("p",{className:"text-sm",children:e.analysis.why_now})})})]})]})}return"competitive"===e.agent_type?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Differentiation"})}),(0,t.jsxs)(l.Wu,{className:"py-3",children:[(0,t.jsx)("div",{className:"p-3 border rounded-md bg-muted/10",children:(0,t.jsx)("p",{className:"text-sm",children:e.analysis.differentiation})}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Moat Classification:"}),(0,t.jsx)(C.E,{className:"px-2 py-1",style:{backgroundColor:"defensible"===e.analysis.moat_classification?"#059669":"weak"===e.analysis.moat_classification?"#D97706":"#DC2626",color:"white"},children:"defensible"===e.analysis.moat_classification?"Defensible":"weak"===e.analysis.moat_classification?"Weak":"None"})]})]})]}),(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Competitive Landscape"})}),(0,t.jsx)(l.Wu,{className:"py-3 px-3",children:(0,t.jsx)("div",{className:"divide-y",children:Array.isArray(e.analysis.competitors)&&e.analysis.competitors.map((e,s)=>(0,t.jsxs)("div",{className:"py-3 first:pt-0 last:pb-0",children:[(0,t.jsx)("div",{className:"flex justify-between mb-2",children:(0,t.jsx)("h3",{className:"font-medium",children:e.name})}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs text-muted-foreground mb-1",children:"Strengths"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:Array.isArray(e.strengths)&&e.strengths.map((e,s)=>(0,t.jsx)(C.E,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs text-muted-foreground mb-1",children:"Weaknesses"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:Array.isArray(e.weaknesses)&&e.weaknesses.map((e,s)=>(0,t.jsx)(C.E,{variant:"outline",className:"text-xs text-destructive",children:e},s))})]})]})]},s))})})]})]}):"uvp"===e.agent_type?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Unique Value Proposition"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsx)("div",{className:"p-4 border rounded-md bg-muted/10 text-center",children:(0,t.jsxs)("p",{className:"text-lg font-medium",style:{color:s},children:['"',e.analysis.one_liner,'"']})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Appeal Analysis"})}),(0,t.jsx)(l.Wu,{className:"py-0",children:(0,t.jsxs)("div",{className:"divide-y",children:[(0,t.jsxs)("div",{className:"py-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Emotional Appeal"}),(0,t.jsx)("p",{className:"text-sm",children:e.analysis.emotional_appeal})]}),(0,t.jsxs)("div",{className:"py-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Strategic Appeal"}),(0,t.jsx)("p",{className:"text-sm",children:e.analysis.strategic_appeal})]})]})})]}),(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Performance Metrics"})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-sm",children:"Stickiness Score"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[e.analysis.stickiness_score,"/10"]})]}),(0,t.jsx)("div",{className:"w-full h-1.5 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full",style:{width:`${e.analysis.stickiness_score/10*100}%`,backgroundColor:s}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-sm",children:"Differentiation Clarity"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[e.analysis.differentiation_clarity,"/10"]})]}),(0,t.jsx)("div",{className:"w-full h-1.5 bg-muted rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full rounded-full",style:{width:`${e.analysis.differentiation_clarity/10*100}%`,backgroundColor:s}})})]})]})})]})]}),(0,t.jsxs)(l.Zp,{className:"border border-muted overflow-hidden",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md",children:"Value Transformation"})}),(0,t.jsx)(l.Wu,{className:"p-0",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"p-4 border-r md:border-b-0 border-b bg-red-50/30 dark:bg-red-950/10",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-sm",children:"Before"}),(0,t.jsx)("p",{className:"text-sm",children:e.analysis.before_after?.before})]}),(0,t.jsxs)("div",{className:"p-4 bg-green-50/30 dark:bg-green-950/10",children:[(0,t.jsx)("h4",{className:"font-medium mb-2 text-sm",children:"After"}),(0,t.jsx)("p",{className:"text-sm",children:e.analysis.before_after?.after})]})]})})]})]}):(0,t.jsx)("div",{className:"space-y-4",children:Object.entries(e.analysis||{}).filter(([e])=>!["score","reasoning"].includes(e)).map(([e,a])=>Array.isArray(a)?(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md capitalize",children:e.replace(/_/g," ")})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsx)("div",{className:"space-y-2",children:a.map((e,a)=>"string"==typeof e?(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full mt-1.5",style:{backgroundColor:s}}),(0,t.jsx)("span",{className:"text-sm",children:e})]},a):"object"==typeof e&&null!==e?(0,t.jsx)("div",{className:"p-3 border rounded-md",children:Object.entries(e).map(([e,s])=>(0,t.jsxs)("div",{className:"flex justify-between text-sm py-1 border-b last:border-0",children:[(0,t.jsxs)("span",{className:"font-medium capitalize",children:[e.replace(/_/g," "),":"]}),(0,t.jsx)("span",{children:String(s)})]},e))},a):null)})})]},e):"object"==typeof a&&null!==a?(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3",children:(0,t.jsx)(l.ZB,{className:"text-md capitalize",children:e.replace(/_/g," ")})}),(0,t.jsx)(l.Wu,{className:"p-0",children:(0,t.jsx)("div",{className:"divide-y",children:Object.entries(a).map(([e,s])=>{var a;return(0,t.jsxs)("div",{className:"px-4 py-3",children:[(0,t.jsx)("div",{className:"font-medium capitalize text-sm mb-1",children:e.replace(/_/g," ")}),(0,t.jsx)("div",{className:"text-sm",children:"string"==typeof(a=s)?a:Array.isArray(a)?(0,t.jsx)("div",{className:"space-y-1",children:a.map((e,s)=>(0,t.jsx)("div",{className:"text-sm",children:"string"==typeof e?e:JSON.stringify(e)},s))}):JSON.stringify(a)})]},e)})})})]},e):(0,t.jsxs)(l.Zp,{className:"border border-muted",children:[(0,t.jsx)(l.aR,{className:"py-3 border-b",children:(0,t.jsx)(l.ZB,{className:"text-md capitalize",children:e.replace(/_/g," ")})}),(0,t.jsx)(l.Wu,{className:"py-3",children:(0,t.jsx)("p",{className:"text-sm",children:String(a)})})]},e))})}function Z(e){return e.replace(/_/g," ")}function z(e){return e>=1e9?(e/1e9).toFixed(1)+"B":e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function $({validation:e}){console.log("VC Report data:",{form_id:e.form.id,business_idea:e.form.business_idea?.substring(0,50)+"...",status:e.validation.status,score:e.validation.score,agents:e.agent_analyses.length});let s=e.validation.vc_report,a=s.idea_improvements&&s.idea_improvements.original_idea||e.form.business_idea||"",r=s.idea_improvements&&s.idea_improvements.improved_idea||"";return(0,t.jsxs)("div",{className:"bg-background text-foreground min-h-screen",children:[(0,t.jsx)(k,{}),(0,t.jsx)("div",{className:"container py-8 max-w-5xl mx-auto",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(h,{businessType:s.business_type||"Business",overallScore:s.overall_score||0,createdAt:s.created_at,categoryScores:s.category_scores||{}}),(0,t.jsx)(f,{originalIdea:a,improvedIdea:r}),(0,t.jsx)(j,{categoryScores:s.category_scores||{}}),(0,t.jsx)(g,{strengths:s.strengths||[],weaknesses:s.weaknesses||[]}),e.agent_analyses&&e.agent_analyses.length>0&&(0,t.jsx)(M,{agents:e.agent_analyses}),(0,t.jsx)(v,{actions:s.suggested_actions||[]}),(0,t.jsx)(A,{createdAt:s.created_at})]})})]})}let T=(0,a(94025).UU)("https://dynksioggkqwgivykuvh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR5bmtzaW9nZ2txd2dpdnlrdXZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQzMDUzMDEsImV4cCI6MjA1OTg4MTMwMX0.vMMZu55NMuzra_iq3JLraanzUlWrzwXRyMQ40TeJtJ0");async function E(e){try{console.log(`Fetching VC validation with analyses for ID: ${e}`);let{data:s,error:a}=await T.from("vc_validation_analyses").select("*").eq("id",e).maybeSingle();if(!s){console.log(`No VC validation found with ID ${e}, trying to find by form ID`);let{data:a,error:t}=await T.from("vc_validation_analyses").select("*").eq("validation_form_id",e).maybeSingle();if(t&&"PGRST116"!==t.code)return console.error("Error fetching VC validation by form ID:",t),{success:!1,error:t.message};if(!a)return console.error("No VC validation found with this ID or form ID"),{success:!1,error:"No VC validation found"};s=a,console.log(`Found VC validation with form ID ${e}`)}let{data:t,error:r}=await T.from("validation_forms").select("*").eq("id",s.validation_form_id).single();if(r)return console.error("Error fetching validation form:",r),{success:!1,error:r.message};let{data:i,error:l}=await T.from("vc_agent_analyses").select("*").eq("vc_validation_id",s.id).order("created_at",{ascending:!0});if(l)return console.error("Error fetching agent analyses:",l),{success:!1,error:l.message};let n={form:t,validation:s,agent_analyses:i||[]};return{success:!0,data:n}}catch(e){return console.error("Error in getVCValidationWithAnalyses:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}function F(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),[a,x]=(0,r.useState)(null),[p,h]=(0,r.useState)(null),[f,j]=(0,r.useState)(!0),[g,v]=(0,r.useState)(10),[y,N]=(0,r.useState)("Initializing analysis"),[b,w]=(0,r.useState)([]),[_,k]=(0,r.useState)(0),A=(0,r.useRef)(0),C=(0,r.useRef)(Date.now()),I=(0,r.useRef)(0),R={initializing:"Initializing analysis",market:"Market analysis in progress",competitive:"Competitive analysis in progress",uvp:"UVP analysis in progress",business_model:"Business model analysis in progress",validation:"Validation analysis in progress",legal:"Legal analysis in progress",metrics:"Metrics analysis in progress",vc_lead:"VC lead synthesis in progress"},S=e=>{if(e)try{let s=e.agent_analyses||[],a=s.map(e=>e.agent_type),t=s.length;if(t!==A.current){let e=10+10*t;v(Math.min(90,e)),A.current=t,console.log(`Agent progress updated: ${t} agents, progress: ${Math.min(90,e)}%`)}w(e=>{let s=[...e];return a.includes("problem")&&!e.includes("Problem analysis complete")&&s.push("Problem analysis complete"),a.includes("market")&&!e.includes("Market analysis complete")&&s.push("Market analysis complete"),a.includes("competitive")&&!e.includes("Competitive analysis complete")&&s.push("Competitive analysis complete"),a.includes("uvp")&&!e.includes("UVP analysis complete")&&s.push("UVP analysis complete"),a.includes("business_model")&&!e.includes("Business model analysis complete")&&s.push("Business model analysis complete"),a.includes("validation")&&!e.includes("Validation analysis complete")&&s.push("Validation analysis complete"),a.includes("legal")&&!e.includes("Legal analysis complete")&&s.push("Legal analysis complete"),a.includes("metrics")&&!e.includes("Metrics analysis complete")&&s.push("Metrics analysis complete"),s}),0===t?N(R.initializing):1===t?N(R.market):2===t?N(R.competitive):3===t?N(R.uvp):4===t?N(R.business_model):5===t?N(R.validation):6===t?N(R.legal):7===t?N(R.metrics):8===t&&N(R.vc_lead);let r=["problem","market","competitive","uvp","business_model","validation","legal","metrics"].every(e=>a.includes(e)),i=e.validation.vc_report&&Object.keys(e.validation.vc_report).length>0&&void 0!==e.validation.vc_report.overall_score,l="completed"===e.validation.status&&r&&i;console.log(`Validation check: status=${e.validation.status}, agents=${t}/8, allRequired=${r}, hasReport=${i}, isComplete=${l}`),l?(N("Report generation complete"),v(100),w(e=>e.includes("Report generation complete")?e:[...e,"Report generation complete"]),setTimeout(()=>{j(!1),h(e),console.log("Transition to report view - validation complete")},1500)):"completed"===e.validation.status&&t>=8?(console.log("Status is complete and all agents present. Showing report with potential limitations."),N("Report generation complete"),v(100),setTimeout(()=>{j(!1),h(e),console.log("Transition to report view - fallback with all agents")},1500)):"completed"!==e.validation.status||i||console.log("Status is completed but report is missing or incomplete. Keeping loading screen.")}catch(e){console.error("Error in updateUIFromValidation:",e)}},M=async()=>{try{console.log(`Fetching validation data, attempt #${_+1}`);let s=await E(e.id);if(!s.success||!s.data){if(_<120){let e=Math.min(3e3+1e3*Math.floor(_/10),1e4);return console.log(`No validation data yet, retrying in ${e/1e3}s...`),setTimeout(()=>k(e=>e+1),e),null}throw Error(s.error||"Failed to fetch validation data after multiple attempts")}let a=s.data,t=a.agent_analyses?.length||0,r=a.validation.status,i=a.validation.vc_report&&Object.keys(a.validation.vc_report).length>0;console.log(`Validation data: status=${r}, agents=${t}, hasReport=${i}`),"failed"===r&&console.info("Validation failed diagnostics:",{formId:a.form.id,validationId:a.validation.id,createdAt:a.validation.created_at,updatedAt:a.validation.updated_at,businessIdeaLength:a.form.business_idea?.length||0,reportFields:a.validation.vc_report?Object.keys(a.validation.vc_report):[],agentTypesCompleted:a.agent_analyses.map(e=>e.agent_type)});let l=Date.now();t>I.current&&(C.current=l,I.current=t,console.log("New agent data detected, reset activity timer"));let n=(l-C.current)/1e3;S(a),null===p&&a.validation.vc_report&&h(a);let c=a.agent_analyses.map(e=>e.agent_type),d=["problem","market","competitive","uvp","business_model","validation","legal","metrics"].every(e=>c.includes(e)),o=a.validation.vc_report&&Object.keys(a.validation.vc_report).length>0&&void 0!==a.validation.vc_report.overall_score,m="completed"===r&&d&&o;if("failed"===r)return console.warn("[Handled] Validation status is 'failed' - showing error UI with recovery options"),x("Validation analysis failed. This could be due to a processing issue or complexity in analyzing your business idea."),t>=4&&setTimeout(()=>{j(!1)},1500),a;if(n>60&&t>0&&t<8&&t>=4&&(console.log(`Analysis appears stalled (${Math.round(n)}s inactive). Auto-refreshing...`),N(`${y} - refreshing data...`),C.current=l),!m&&_<120){let e;return e=t>0?n<15?3e3:n<30?5e3:8e3:Math.min(3e3+1e3*Math.floor(_/10),1e4),console.log(`Processing in progress (${r}), checking again in ${e/1e3}s... (Inactive: ${Math.round(n)}s)`),setTimeout(()=>k(e=>e+1),e),a}if(m)return console.log("Processing complete, report is ready"),a;return _>=120&&(console.log("Max retries reached, returning current state"),t>=6?(console.log("Showing partial results - most agents completed"),j(!1)):t>0&&console.log("Analysis didn't complete within expected time. Refreshing page...")),a}catch(e){return console.error("Error fetching validation:",e),x(e instanceof Error?e.message:"Failed to load validation data"),null}},D=(0,r.useCallback)(()=>{console.log("Manual refresh requested"),x(null),k(0),v(10),j(!0),w([]),N("Initializing analysis"),C.current=Date.now(),A.current=0,s.refresh(),M()},[s]);if(f){let e=Math.floor((Date.now()-C.current)/1e3),s=A.current>0,a=e>30,r=A.current,i=["AI agents are working together to evaluate different aspects of your business.","Each agent specializes in a different area like market analysis or business model validation.","Your analysis typically involves 8 specialized AI agents working together.","The process usually takes 60-90 seconds to complete.","Results will include strengths, weaknesses, and suggested improvements."],o=Math.floor(_/3)%i.length;return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,t.jsx)(l.Zp,{className:"p-8 max-w-2xl w-full",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.A,{className:"h-16 w-16 text-primary animate-spin"}),r>0&&(0,t.jsxs)("div",{className:"absolute -top-2 -right-2 bg-primary text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:[r,"/8"]})]}),(0,t.jsxs)("div",{className:"space-y-2 w-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"Multi-Agent Analysis in Progress"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:i[o]}),(0,t.jsxs)("div",{className:"w-full mt-6 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,t.jsx)("span",{children:g<100?"Processing...":"Completed!"}),(0,t.jsxs)("span",{children:[g,"%"]})]}),(0,t.jsx)(u.k,{value:g,className:"h-2.5 w-full"}),(0,t.jsx)("p",{className:"text-sm font-medium mt-2",children:y}),s&&a&&(0,t.jsxs)("p",{className:"text-xs text-amber-600 mt-1",children:["No updates for ",e,"s. Analysis may be taking longer than usual."]})]}),(0,t.jsxs)("div",{className:"mt-6 text-left border rounded-md p-4 max-h-48 overflow-y-auto bg-muted/20",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold mb-2",children:"Progress:"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[b.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center animate-fadeIn",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-green-500 mr-2"}),(0,t.jsx)("span",{children:e})]},s)),0===b.length&&(0,t.jsx)("li",{className:"text-muted-foreground",children:"Starting analysis..."})]})]})]}),(_>=60||s&&a)&&(0,t.jsxs)("div",{className:"pt-4",children:[(0,t.jsxs)(m.$,{onClick:D,className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Refresh Analysis"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:s?"Analysis appears paused. Click to refresh the page and check progress.":"If you've waited more than a minute, click to refresh."})]}),s&&a&&A.current>=6&&(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsx)(m.$,{onClick:()=>j(!1),variant:"outline",className:"flex items-center gap-2",children:(0,t.jsx)("span",{children:"View Partial Results"})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Most analyses are complete. View results without waiting for completion."})]})]})})})}if(a){let e=p&&p.agent_analyses&&p.agent_analyses.length>=4;return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)(l.Zp,{className:"p-6 max-w-md w-full",children:[(0,t.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-red-800 mb-2",children:"Analysis Encountered an Issue"}),(0,t.jsx)("p",{className:"text-red-700 mb-4",children:a}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:"This sometimes happens with complex business ideas or when our AI agents encounter unexpected data patterns."})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium mb-2",children:"Troubleshooting tips:"}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground pl-5 list-disc space-y-1",children:[(0,t.jsx)("li",{children:"Try shortening your business description to focus on core elements"}),(0,t.jsx)("li",{children:"Ensure your description has clear problem and solution statements"}),(0,t.jsx)("li",{children:"Consider breaking complex ideas into simpler components"}),(0,t.jsx)("li",{children:"Use the basic validation if you continue having issues"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[e&&(0,t.jsx)(m.$,{onClick:()=>j(!1),className:"flex items-center gap-2",children:(0,t.jsx)("span",{children:"View Partial Results"})}),(0,t.jsxs)(m.$,{onClick:D,variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Try Analysis Again"})]}),(0,t.jsx)(m.$,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>s.push("/validate/general"),children:(0,t.jsx)("span",{children:"Try Basic Validation Instead"})}),(0,t.jsxs)(m.$,{variant:"ghost",className:"flex items-center gap-2",onClick:()=>s.push("/validate"),children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Back to Dashboard"})]})]})]})})}return p?(console.log("Rendering VC report with validation data"),(0,t.jsx)($,{validation:p})):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)(l.Zp,{className:"p-6 max-w-md w-full",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Not Found"}),(0,t.jsx)("p",{children:"No validation data found for this request."}),(0,t.jsxs)(m.$,{onClick:D,className:"mt-4 flex items-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Try Again"})]})]})})}},94735:e=>{"use strict";e.exports=require("events")},96963:(e,s,a)=>{"use strict";a.d(s,{B:()=>c});var t,r=a(43210),i=a(66156),l=(t||(t=a.t(r,2)))[" useId ".trim().toString()]||(()=>void 0),n=0;function c(e){let[s,a]=r.useState(l());return(0,i.N)(()=>{e||a(e=>e??String(n++))},[e]),e||(s?`radix-${s}`:"")}}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[447,824,742,505,166],()=>a(54952));module.exports=t})();